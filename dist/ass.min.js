!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).ASS=e()}(this,(function(){"use strict";function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(t,e)||n(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||n(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(t){var e=t.toLowerCase().trim().split(/\s*;\s*/);return"banner"===e[0]?{name:e[0],delay:1*e[1]||0,leftToRight:1*e[2]||0,fadeAwayWidth:1*e[3]||0}:/^scroll\s/.test(e[0])?{name:e[0],y1:Math.min(1*e[1],1*e[2]),y2:Math.max(1*e[1],1*e[2]),delay:1*e[3]||0,fadeAwayHeight:1*e[4]||0}:null}function a(t){return t?t.toLowerCase().replace(/([+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?)/g," $1 ").replace(/([mnlbspc])/g," $1 ").trim().replace(/\s+/g," ").split(/\s(?=[mnlbspc])/).map((function(t){return t.split(" ").filter((function(t,e){return!(e&&Number.isNaN(1*t))}))})):[]}var s=["b","i","u","s","fsp","k","K","kf","ko","kt","fe","q","p","pbo","a","an","fscx","fscy","fax","fay","frx","fry","frz","fr","be","blur","bord","xbord","ybord","shad","xshad","yshad"].map((function(t){return{name:t,regex:new RegExp("^".concat(t,"-?\\d"))}}));function c(t){for(var r={},n=0;n<s.length;n++){var o=s[n],i=o.name;if(o.regex.test(t))return r[i]=1*t.slice(i.length),r}if(/^fn/.test(t))r.fn=t.slice(2);else if(/^r/.test(t))r.r=t.slice(1);else if(/^fs[\d+-]/.test(t))r.fs=t.slice(2);else if(/^\d?c&?H?[0-9a-f]+|^\d?c$/i.test(t)){var l=e(t.match(/^(\d?)c&?H?(\w*)/),3),u=l[1],f=l[2];r["c".concat(u||1)]=f&&"000000".concat(f).slice(-6)}else if(/^\da&?H?[0-9a-f]+/i.test(t)){var p=e(t.match(/^(\d)a&?H?(\w\w)/),3),h=p[1],d=p[2];r["a".concat(h)]=d}else if(/^alpha&?H?[0-9a-f]+/i.test(t)){var v=e(t.match(/^alpha&?H?([0-9a-f]+)/i),2);r.alpha=v[1],r.alpha="00".concat(r.alpha).slice(-2)}else if(/^(?:pos|org|move|fad|fade)\(/.test(t)){var y=e(t.match(/^(\w+)\((.*?)\)?$/),3),x=y[1],g=y[2];r[x]=g.trim().split(/\s*,\s*/).map(Number)}else if(/^i?clip/.test(t)){var m=t.match(/^i?clip\((.*?)\)?$/)[1].trim().split(/\s*,\s*/);r.clip={inverse:/iclip/.test(t),scale:1,drawing:null,dots:null},1===m.length&&(r.clip.drawing=a(m[0])),2===m.length&&(r.clip.scale=1*m[0],r.clip.drawing=a(m[1])),4===m.length&&(r.clip.dots=m.map(Number))}else if(/^t\(/.test(t)){var b=t.match(/^t\((.*?)\)?$/)[1].trim().replace(/\\.*/,(function(t){return t.replace(/,/g,"\n")})).split(/\s*,\s*/);if(!b[0])return r;r.t={t1:0,t2:0,accel:1,tags:b[b.length-1].replace(/\n/g,",").split("\\").slice(1).map(c)},2===b.length&&(r.t.accel=1*b[0]),3===b.length&&(r.t.t1=1*b[0],r.t.t2=1*b[1]),4===b.length&&(r.t.t1=1*b[0],r.t.t2=1*b[1],r.t.accel=1*b[2])}return r}function l(t){for(var e=[],r=0,n="",o=0;o<t.length;o++){var i=t[o];"("===i&&r++,")"===i&&r--,r<0&&(r=0),r||"\\"!==i?n+=i:(n&&e.push(n),n="")}return e.push(n),e.map(c)}function u(t){var e=t.split(/{([^{}]*?)}/),r=[];e[0].length&&r.push({tags:[],text:e[0],drawing:[]});for(var n=1;n<e.length;n+=2){var o=l(e[n]),i=o.reduce((function(t,e){return void 0===e.p?t:!!e.p}),!1);r.push({tags:o,text:i?"":e[n+1],drawing:i?a(e[n+1]):[]})}return{raw:t,combined:r.map((function(t){return t.text})).join(""),parsed:r}}function f(t,e){var r=t.split(",");if(r.length>e.length){var n=r.slice(e.length-1).join();(r=r.slice(0,e.length-1)).push(n)}for(var o,a={},s=0;s<r.length;s++){var c=e[s],l=r[s].trim();switch(c){case"Layer":case"MarginL":case"MarginR":case"MarginV":a[c]=1*l;break;case"Start":case"End":a[c]=(o=void 0,3600*(o=l.split(":"))[0]+60*o[1]+1*o[2]);break;case"Effect":a[c]=i(l);break;case"Text":a[c]=u(l);break;default:a[c]=l}}return a}function p(t){return t.match(/Format\s*:\s*(.*)/i)[1].split(/\s*,\s*/)}var h=Object.assign||function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];for(var o=0;o<r.length;o++)if(r[o])for(var i=Object.keys(r[o]),a=0;a<i.length;a++)t[i[a]]=r[o][i[a]];return t};function d(t,e){var n=t.match(/Style\s*:\s*(.*)/i)[1].split(/\s*,\s*/);return h.apply(void 0,[{}].concat(r(e.map((function(t,e){return{[t]:n[e]}})))))}function v(t){for(var r={info:{},styles:{format:[],style:[]},events:{format:[],comment:[],dialogue:[]}},n=t.split(/\r?\n/),o=0,i=0;i<n.length;i++){var a=n[i].trim();if(!/^;/.test(a)&&(/^\[Script Info\]/i.test(a)?o=1:/^\[V4\+? Styles\]/i.test(a)?o=2:/^\[Events\]/i.test(a)?o=3:/^\[.*\]/.test(a)&&(o=0),0!==o)){if(1===o&&/:/.test(a)){var s=e(a.match(/(.*?)\s*:\s*(.*)/),3),c=s[1],l=s[2];r.info[c]=l}if(2===o&&(/^Format\s*:/i.test(a)&&(r.styles.format=p(a)),/^Style\s*:/i.test(a)&&r.styles.style.push(d(a,r.styles.format))),3===o&&(/^Format\s*:/i.test(a)&&(r.events.format=p(a)),/^(?:Comment|Dialogue)\s*:/i.test(a))){var u=e(a.match(/^(\w+?)\s*:\s*(.*)/i),3),h=u[1],v=u[2];r.events[h.toLowerCase()].push(f(v,r.events.format))}}}return r}function y(t){var e={type:null,prev:null,next:null,points:[]};/[mnlbs]/.test(t[0])&&(e.type=t[0].toUpperCase().replace("N","L").replace("B","C"));for(var r=t.length-!(1&t.length),n=1;n<r;n+=2)e.points.push({x:1*t[n],y:1*t[n+1]});return e}function x(t){return!(!t.points.length||!t.type)&&!(/C|S/.test(t.type)&&t.points.length<3)}function g(t){return t.map((function(t){return t.type+t.points.map((function(t){var e=t.x,r=t.y;return"".concat(e,",").concat(r)})).join(",")})).join("")}function m(t){for(var e,n=[],o=0;o<t.length;){var i=t[o],a=y(i);if(x(a)){if("S"===a.type){var s=(n[o-1]||{points:[{x:0,y:0}]}).points.slice(-1)[0],c=s.x,l=s.y;a.points.unshift({x:c,y:l})}o&&(a.prev=n[o-1].type,n[o-1].next=a.type),n.push(a),o++}else{if(o&&"S"===n[o-1].type){var u={p:a.points,c:n[o-1].points.slice(0,3)};n[o-1].points=n[o-1].points.concat((u[i[0]]||[]).map((function(t){return{x:t.x,y:t.y}})))}t.splice(o,1)}}var f=(e=[]).concat.apply(e,r(n.map((function(t){var e=t.type,r=t.points,n=t.prev,o=t.next;return"S"===e?function(t,e,r){var n=[],o=[0,2/3,1/3,0],i=[0,1/3,2/3,0],a=[0,1/6,2/3,1/6],s=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},c=[t[t.length-1].x,t[0].x,t[1].x,t[2].x],l=[t[t.length-1].y,t[0].y,t[1].y,t[2].y];n.push({type:"M"===e?"M":"L",points:[{x:s(a,c),y:s(a,l)}]});for(var u=3;u<t.length;u++)c=[t[u-3].x,t[u-2].x,t[u-1].x,t[u].x],l=[t[u-3].y,t[u-2].y,t[u-1].y,t[u].y],n.push({type:"C",points:[{x:s(o,c),y:s(o,l)},{x:s(i,c),y:s(i,l)},{x:s(a,c),y:s(a,l)}]});if("L"===r||"C"===r){var f=t[t.length-1];n.push({type:"L",points:[{x:f.x,y:f.y}]})}return n}(r,n,o):{type:e,points:r}}))));return h({instructions:f,d:g(f)},function(t){var e,n=1/0,o=1/0,i=-1/0,a=-1/0;return(e=[]).concat.apply(e,r(t.map((function(t){return t.points})))).forEach((function(t){var e=t.x,r=t.y;n=Math.min(n,e),o=Math.min(o,r),i=Math.max(i,e),a=Math.max(a,r)})),{minX:n,minY:o,width:i-n,height:a-o}}(n))}var b=["fs","clip","c1","c2","c3","c4","a1","a2","a3","a4","alpha","fscx","fscy","fax","fay","frx","fry","frz","fr","be","blur","bord","xbord","ybord","shad","xshad","yshad"];function w(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t[r];if(void 0===o)return null;if("pos"===r||"org"===r)return 2===o.length?{[r]:{x:o[0],y:o[1]}}:null;if("move"===r){var i=o,a=e(i,6),s=a[0],c=a[1],l=a[2],u=a[3],f=a[4],p=void 0===f?0:f,d=a[5],v=void 0===d?0:d;return 4===o.length||6===o.length?{move:{x1:s,y1:c,x2:l,y2:u,t1:p,t2:v}}:null}if("fad"===r||"fade"===r){if(2===o.length){var y=o,x=e(y,2),g=x[0],S=x[1];return{fade:{type:"fad",t1:g,t2:S}}}if(7===o.length){var A=o,E=e(A,7),T=E[0],_=E[1],C=E[2],O=E[3],M=E[4],k=E[5],I=E[6];return{fade:{type:"fade",a1:T,a2:_,a3:C,t1:O,t2:M,t3:k,t4:I}}}return null}if("clip"===r){var R=o,L=R.inverse,j=R.scale,P=R.drawing,$=R.dots;if(P)return{clip:{inverse:L,scale:j,drawing:m(P),dots:$}};if($){var N=e($,4),F=N[0],B=N[1],U=N[2],D=N[3];return{clip:{inverse:L,scale:j,drawing:P,dots:{x1:F,y1:B,x2:U,y2:D}}}}return null}if(/^[xy]?(bord|shad)$/.test(r)&&(o=Math.max(o,0)),"bord"===r)return{xbord:o,ybord:o};if("shad"===r)return{xshad:o,yshad:o};if(/^c\d$/.test(r))return{[r]:o||n[r]};if("alpha"===r)return{a1:o,a2:o,a3:o,a4:o};if("fr"===r)return{frz:o};if("fs"===r)return{fs:/^\+|-/.test(o)?(1*o>-10?1+o/10:1)*n.fs:1*o};if("K"===r)return{kf:o};if("t"===r){var z=o,V=z.t1,G=z.accel,Y=z.tags,H=o.t2||1e3*(n.end-n.start),W={};return Y.forEach((function(t){var e=Object.keys(t)[0];~b.indexOf(e)&&("clip"!==e||t[e].dots)&&h(W,w(t,e,n))})),{t:{t1:V,t2:H,accel:G,tag:W}}}return{[r]:o}}var S=[null,1,2,3,null,7,8,9,null,4,5,6],A=["r","a","an","pos","org","move","fade","fad","clip"];function E(t){for(var e,r,n,o,i,a,s,c=t.styles,l=t.style,u=t.parsed,f=t.start,p=t.end,d=[],v={style:l,fragments:[]},y={},x=0;x<u.length;x++){for(var g=u[x],b=g.tags,E=g.text,T=g.drawing,_=void 0,C=0;C<b.length;C++){var O=b[C];_=void 0===O.r?_:O.r}for(var M={tag:void 0===_?(s=y,JSON.parse(JSON.stringify(h({},s,{k:void 0,kf:void 0,ko:void 0,kt:void 0})))):{},text:E,drawing:T.length?m(T):null},k=0;k<b.length;k++){var I=b[k];e=e||S[I.a||0]||I.an,r=r||w(I,"pos"),n=n||w(I,"org"),o=o||w(I,"move"),i=i||w(I,"fade")||w(I,"fad"),a=w(I,"clip")||a;var R=Object.keys(I)[0];if(R&&!~A.indexOf(R)){var L=c[l].tag,j=w(I,R,{start:f,end:p,c1:L.c1,c2:L.c2,c3:L.c3,c4:L.c4,fs:y.fs||L.fs});"t"===R?(M.tag.t=M.tag.t||[],M.tag.t.push(j.t)):h(M.tag,j)}}if(y=M.tag,void 0!==_&&(d.push(v),v={style:c[_]?_:l,fragments:[]}),M.text||M.drawing){var P=v.fragments[v.fragments.length-1]||{};P.text&&M.text&&!Object.keys(M.tag).length?P.text+=M.text:v.fragments.push(M)}}return d.push(v),h({alignment:e,slices:d},r,n,o,i,a)}function T(t){for(var e=t.styles,r=t.dialogues,n=1/0,o=[],i=0;i<r.length;i++){var a=r[i];if(!(a.Start>=a.End)){e[a.Style]||(a.Style="Default");var s=e[a.Style].style,c=E({styles:e,style:a.Style,parsed:a.Text.parsed,start:a.Start,end:a.End}),l=c.alignment||s.Alignment;n=Math.min(n,a.Layer),o.push(h({layer:a.Layer,start:a.Start,end:a.End,style:a.Style,name:a.Name,margin:{left:a.MarginL||s.MarginL,right:a.MarginR||s.MarginR,vertical:a.MarginV||s.MarginV},effect:a.Effect},c,{alignment:l}))}}for(var u=0;u<o.length;u++)o[u].layer-=n;return o.sort((function(t,e){return t.start-e.start||t.end-e.end}))}var _={Name:"Default",Fontname:"Arial",Fontsize:"20",PrimaryColour:"&H00FFFFFF&",SecondaryColour:"&H000000FF&",OutlineColour:"&H00000000&",BackColour:"&H00000000&",Bold:"0",Italic:"0",Underline:"0",StrikeOut:"0",ScaleX:"100",ScaleY:"100",Spacing:"0",Angle:"0",BorderStyle:"1",Outline:"2",Shadow:"2",Alignment:"2",MarginL:"10",MarginR:"10",MarginV:"10",Encoding:"1"};function C(t){if(/^(&|H|&H)[0-9a-f]{6,}/i.test(t)){var r=e(t.match(/&?H?([0-9a-f]{2})?([0-9a-f]{6})/i),3);return[r[1]||"00",r[2]]}var n=parseInt(t,10);if(!Number.isNaN(n)){var o=-2147483648;if(n<o)return["00","000000"];var i=o<=n&&n<=2147483647?"00000000".concat((n<0?n+4294967296:n).toString(16)).slice(-8):String(n).slice(0,8);return[i.slice(0,2),i.slice(2)]}return["00","000000"]}function O(t){for(var r=t.info,n=t.style,o=t.defaultStyle,i={},a=[h({},_,o,{Name:"Default"})].concat(n),s=function(t){var n=a[t];/^(\*+)Default$/.test(n.Name)&&(n.Name="Default"),Object.keys(n).forEach((function(t){"Name"===t||"Fontname"===t||/Colour/.test(t)||(n[t]*=1)}));var o=e(C(n.PrimaryColour),2),s=o[0],c=o[1],l=e(C(n.SecondaryColour),2),u=l[0],f=l[1],p=e(C(n.OutlineColour),2),h=p[0],d=p[1],v=e(C(n.BackColour),2),y=v[0],x=v[1],g={fn:n.Fontname,fs:n.Fontsize,c1:c,a1:s,c2:f,a2:u,c3:d,a3:h,c4:x,a4:y,b:Math.abs(n.Bold),i:Math.abs(n.Italic),u:Math.abs(n.Underline),s:Math.abs(n.StrikeOut),fscx:n.ScaleX,fscy:n.ScaleY,fsp:n.Spacing,frz:n.Angle,xbord:n.Outline,ybord:n.Outline,xshad:n.Shadow,yshad:n.Shadow,fe:n.Encoding,q:/^[0-3]$/.test(r.WrapStyle)?1*r.WrapStyle:2};i[n.Name]={style:n,tag:g}},c=0;c<a.length;c++)s(c);return i}function M(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=v(t),n=O({info:r.info,style:r.styles.style,defaultStyle:e.defaultStyle||{}});return{info:r.info,width:1*r.info.PlayResX||null,height:1*r.info.PlayResY||null,collisions:r.info.Collisions||"Normal",styles:n,dialogues:T({styles:n,dialogues:r.events.dialogue})}}var k={exports:{}};k.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}};var I=k.exports,R={exports:{}};R.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t};var L=R.exports,j={exports:{}},P=L;j.exports=function(t,e){if(!P(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!P(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!P(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!P(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")};var $=j.exports,N={exports:{}},F=L;N.exports=function(t){if(!F(t))throw TypeError(String(t)+" is not an object");return t};var B=N.exports,U={exports:{}},D=function(t){return t&&t.Math==Math&&t};U.exports=D("object"==typeof globalThis&&globalThis)||D("object"==typeof window&&window)||D("object"==typeof self&&self)||D("object"==typeof global&&global)||Function("return this")();var z=U.exports,V={exports:{}},G=L,Y=z.document,H=G(Y)&&G(Y.createElement);V.exports=function(t){return H?Y.createElement(t):{}};var W=V.exports,q={exports:{}};q.exports=function(t){try{return!!t()}catch(t){return!0}};var X=q.exports,K={exports:{}},J=X;K.exports=!J((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}));var Z=K.exports,Q={exports:{}},tt=Z,et=X,rt=W;Q.exports=!tt&&!et((function(){return 7!=Object.defineProperty(rt("div"),"a",{get:function(){return 7}}).a}));var nt=Q.exports,ot={},it=ot,at=Z,st=nt,ct=B,lt=$,ut=Object.defineProperty;it.f=at?ut:function(t,e,r){if(ct(t),e=lt(e,!0),ct(r),st)try{return ut(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t};var ft=ot,pt={exports:{}},ht=Z,dt=ft,vt=I;pt.exports=ht?function(t,e,r){return dt.f(t,e,vt(1,r))}:function(t,e,r){return t[e]=r,t};var yt=pt.exports,xt={exports:{}},gt={}.hasOwnProperty;xt.exports=function(t,e){return gt.call(t,e)};var mt=xt.exports,bt={exports:{}},wt=Z,St=X,At=mt,Et=Object.defineProperty,Tt={},_t=function(t){throw t};bt.exports=function(t,e){if(At(Tt,t))return Tt[t];e||(e={});var r=[][t],n=!!At(e,"ACCESSORS")&&e.ACCESSORS,o=At(e,0)?e[0]:_t,i=At(e,1)?e[1]:void 0;return Tt[t]=!!r&&!St((function(){if(n&&!wt)return!0;var t={length:-1};n?Et(t,1,{enumerable:!0,get:_t}):t[1]=1,r.call(t,o,i)}))};var Ct=bt.exports,Ot={exports:{}},Mt=X;Ot.exports=function(t,e){var r=[][t];return!!r&&Mt((function(){r.call(null,e||function(){throw 1},1)}))};var kt=Ot.exports,It={exports:{}},Rt=X;It.exports=!!Object.getOwnPropertySymbols&&!Rt((function(){return!String(Symbol())}));var Lt=It.exports,jt={exports:{}},Pt=Lt;jt.exports=Pt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator;var $t=jt.exports,Nt={exports:{}},Ft=0,Bt=Math.random();Nt.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++Ft+Bt).toString(36)};var Ut=Nt.exports,Dt={exports:{}},zt=z,Vt=yt;Dt.exports=function(t,e){try{Vt(zt,t,e)}catch(r){zt[t]=e}return e};var Gt=Dt.exports,Yt={exports:{}},Ht=Gt,Wt="__core-js_shared__",qt=z[Wt]||Ht(Wt,{});Yt.exports=qt;var Xt=Yt.exports,Kt={exports:{}};Kt.exports=!1;var Jt=Kt.exports,Zt={exports:{}},Qt=Jt,te=Xt;(Zt.exports=function(t,e){return te[t]||(te[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:Qt?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"});var ee=Zt.exports,re={exports:{}},ne=z,oe=mt,ie=Ut,ae=Lt,se=$t,ce=ee("wks"),le=ne.Symbol,ue=se?le:le&&le.withoutSetter||ie;re.exports=function(t){return oe(ce,t)||(ae&&oe(le,t)?ce[t]=le[t]:ce[t]=ue("Symbol."+t)),ce[t]};var fe=re.exports,pe={exports:{}},he={}.toString;pe.exports=function(t){return he.call(t).slice(8,-1)};var de=pe.exports,ve={exports:{}},ye=de;ve.exports=Array.isArray||function(t){return"Array"==ye(t)};var xe=ve.exports,ge={exports:{}},me=L,be=xe,we=fe("species");ge.exports=function(t,e){var r;return be(t)&&("function"!=typeof(r=t.constructor)||r!==Array&&!be(r.prototype)?me(r)&&null===(r=r[we])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===e?0:e)};var Se=ge.exports,Ae={exports:{}},Ee=Math.ceil,Te=Math.floor;Ae.exports=function(t){return isNaN(t=+t)?0:(t>0?Te:Ee)(t)};var _e=Ae.exports,Ce={exports:{}},Oe=_e,Me=Math.min;Ce.exports=function(t){return t>0?Me(Oe(t),9007199254740991):0};var ke=Ce.exports,Ie={exports:{}};Ie.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t};var Re=Ie.exports,Le={exports:{}},je=Re;Le.exports=function(t){return Object(je(t))};var Pe=Le.exports,$e={exports:{}},Ne=X,Fe=de,Be="".split;$e.exports=Ne((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==Fe(t)?Be.call(t,""):Object(t)}:Object;var Ue=$e.exports,De={exports:{}};De.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t};var ze=De.exports,Ve={exports:{}},Ge=ze;Ve.exports=function(t,e,r){if(Ge(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}};var Ye=Ve.exports,He={exports:{}},We=Ye,qe=Ue,Xe=Pe,Ke=ke,Je=Se,Ze=[].push,Qe=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,i=6==t,a=5==t||i;return function(s,c,l,u){for(var f,p,h=Xe(s),d=qe(h),v=We(c,l,3),y=Ke(d.length),x=0,g=u||Je,m=e?g(s,y):r?g(s,0):void 0;y>x;x++)if((a||x in d)&&(p=v(f=d[x],x,h),t))if(e)m[x]=p;else if(p)switch(t){case 3:return!0;case 5:return f;case 6:return x;case 2:Ze.call(m,f)}else if(o)return!1;return i?-1:n||o?o:m}};He.exports={forEach:Qe(0),map:Qe(1),filter:Qe(2),some:Qe(3),every:Qe(4),find:Qe(5),findIndex:Qe(6)};var tr=He.exports,er={exports:{}},rr=tr.forEach,nr=Ct,or=kt("forEach"),ir=nr("forEach");er.exports=or&&ir?[].forEach:function(t){return rr(this,t,arguments.length>1?arguments[1]:void 0)};var ar=er.exports,sr={exports:{}};sr.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};var cr=z,lr=sr.exports,ur=ar,fr=yt;for(var pr in lr){var hr=cr[pr],dr=hr&&hr.prototype;if(dr&&dr.forEach!==ur)try{fr(dr,"forEach",ur)}catch(t){dr.forEach=ur}}var vr={exports:{}},yr=z;vr.exports=yr;var xr={exports:{}},gr=vr.exports,mr=z,br=function(t){return"function"==typeof t?t:void 0};xr.exports=function(t,e){return arguments.length<2?br(gr[t])||br(mr[t]):gr[t]&&gr[t][e]||mr[t]&&mr[t][e]};var wr=xr.exports,Sr={exports:{}},Ar=wr;Sr.exports=Ar("navigator","userAgent")||"";var Er,Tr,_r={exports:{}},Cr=Sr.exports,Or=z.process,Mr=Or&&Or.versions,kr=Mr&&Mr.v8;kr?Tr=(Er=kr.split("."))[0]+Er[1]:Cr&&(!(Er=Cr.match(/Edge\/(\d+)/))||Er[1]>=74)&&(Er=Cr.match(/Chrome\/(\d+)/))&&(Tr=Er[1]),_r.exports=Tr&&+Tr;var Ir=_r.exports,Rr={exports:{}},Lr=X,jr=Ir,Pr=fe("species");Rr.exports=function(t){return jr>=51||!Lr((function(){var e=[];return(e.constructor={})[Pr]=function(){return{foo:1}},1!==e[t](Boolean).foo}))};var $r=Rr.exports,Nr={exports:{}},Fr=$,Br=ft,Ur=I;Nr.exports=function(t,e,r){var n=Fr(e);n in t?Br.f(t,n,Ur(0,r)):t[n]=r};var Dr=Nr.exports,zr={exports:{}},Vr=_e,Gr=Math.max,Yr=Math.min;zr.exports=function(t,e){var r=Vr(t);return r<0?Gr(r+e,0):Yr(r,e)};var Hr=zr.exports,Wr={exports:{}},qr=X,Xr=/#|\.prototype\./,Kr=function(t,e){var r=Zr[Jr(t)];return r==tn||r!=Qr&&("function"==typeof e?qr(e):!!e)},Jr=Kr.normalize=function(t){return String(t).replace(Xr,".").toLowerCase()},Zr=Kr.data={},Qr=Kr.NATIVE="N",tn=Kr.POLYFILL="P";Wr.exports=Kr;var en=Wr.exports,rn={exports:{}},nn=Ue,on=Re;rn.exports=function(t){return nn(on(t))};var an=rn.exports,sn={},cn=sn,ln={}.propertyIsEnumerable,un=Object.getOwnPropertyDescriptor,fn=un&&!ln.call({1:2},1);cn.f=fn?function(t){var e=un(this,t);return!!e&&e.enumerable}:ln;var pn={},hn=pn,dn=Z,vn=sn,yn=I,xn=an,gn=$,mn=mt,bn=nt,wn=Object.getOwnPropertyDescriptor;hn.f=dn?wn:function(t,e){if(t=xn(t),e=gn(e,!0),bn)try{return wn(t,e)}catch(t){}if(mn(t,e))return yn(!vn.f.call(t,e),t[e])};var Sn=pn,An={};An.f=Object.getOwnPropertySymbols;var En=An,Tn={exports:{}};Tn.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];var _n=Tn.exports,Cn={exports:{}};Cn.exports={};var On=Cn.exports,Mn={exports:{}},kn=an,In=ke,Rn=Hr,Ln=function(t){return function(e,r,n){var o,i=kn(e),a=In(i.length),s=Rn(n,a);if(t&&r!=r){for(;a>s;)if((o=i[s++])!=o)return!0}else for(;a>s;s++)if((t||s in i)&&i[s]===r)return t||s||0;return!t&&-1}};Mn.exports={includes:Ln(!0),indexOf:Ln(!1)};var jn=Mn.exports,Pn={exports:{}},$n=mt,Nn=an,Fn=jn.indexOf,Bn=On;Pn.exports=function(t,e){var r,n=Nn(t),o=0,i=[];for(r in n)!$n(Bn,r)&&$n(n,r)&&i.push(r);for(;e.length>o;)$n(n,r=e[o++])&&(~Fn(i,r)||i.push(r));return i};var Un=Pn.exports,Dn={},zn=Dn,Vn=Un,Gn=_n.concat("length","prototype");zn.f=Object.getOwnPropertyNames||function(t){return Vn(t,Gn)};var Yn=Dn,Hn={exports:{}},Wn=wr,qn=Yn,Xn=En,Kn=B;Hn.exports=Wn("Reflect","ownKeys")||function(t){var e=qn.f(Kn(t)),r=Xn.f;return r?e.concat(r(t)):e};var Jn=Hn.exports,Zn={exports:{}},Qn=mt,to=Jn,eo=Sn,ro=ft;Zn.exports=function(t,e){for(var r=to(e),n=ro.f,o=eo.f,i=0;i<r.length;i++){var a=r[i];Qn(t,a)||n(t,a,o(e,a))}};var no=Zn.exports,oo={exports:{}},io=Ut,ao=ee("keys");oo.exports=function(t){return ao[t]||(ao[t]=io(t))};var so=oo.exports,co={exports:{}},lo=Xt,uo=Function.toString;"function"!=typeof lo.inspectSource&&(lo.inspectSource=function(t){return uo.call(t)}),co.exports=lo.inspectSource;var fo=co.exports,po={exports:{}},ho=fo,vo=z.WeakMap;po.exports="function"==typeof vo&&/native code/.test(ho(vo));var yo,xo,go,mo={exports:{}},bo=po.exports,wo=L,So=yt,Ao=mt,Eo=so,To=On,_o=z.WeakMap;if(bo){var Co=new _o,Oo=Co.get,Mo=Co.has,ko=Co.set;yo=function(t,e){return ko.call(Co,t,e),e},xo=function(t){return Oo.call(Co,t)||{}},go=function(t){return Mo.call(Co,t)}}else{var Io=Eo("state");To[Io]=!0,yo=function(t,e){return So(t,Io,e),e},xo=function(t){return Ao(t,Io)?t[Io]:{}},go=function(t){return Ao(t,Io)}}mo.exports={set:yo,get:xo,has:go,enforce:function(t){return go(t)?xo(t):yo(t,{})},getterFor:function(t){return function(e){var r;if(!wo(e)||(r=xo(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}};var Ro=mo.exports,Lo={exports:{}},jo=z,Po=yt,$o=mt,No=Gt,Fo=fo,Bo=Ro,Uo=Bo.get,Do=Bo.enforce,zo=String(String).split("String");(Lo.exports=function(t,e,r,n){var o=!!n&&!!n.unsafe,i=!!n&&!!n.enumerable,a=!!n&&!!n.noTargetGet;"function"==typeof r&&("string"!=typeof e||$o(r,"name")||Po(r,"name",e),Do(r).source=zo.join("string"==typeof e?e:"")),t!==jo?(o?!a&&t[e]&&(i=!0):delete t[e],i?t[e]=r:Po(t,e,r)):i?t[e]=r:No(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&Uo(this).source||Fo(this)}));var Vo=Lo.exports,Go={exports:{}},Yo=z,Ho=Sn.f,Wo=yt,qo=Vo,Xo=Gt,Ko=no,Jo=en;Go.exports=function(t,e){var r,n,o,i,a,s=t.target,c=t.global,l=t.stat;if(r=c?Yo:l?Yo[s]||Xo(s,{}):(Yo[s]||{}).prototype)for(n in e){if(i=e[n],o=t.noTargetGet?(a=Ho(r,n))&&a.value:r[n],!Jo(c?n:s+(l?".":"#")+n,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;Ko(i,o)}(t.sham||o&&o.sham)&&Wo(i,"sham",!0),qo(r,n,i,t)}};var Zo=Go.exports,Qo=Zo,ti=Hr,ei=_e,ri=ke,ni=Pe,oi=Se,ii=Dr,ai=Ct,si=$r("splice"),ci=ai("splice",{ACCESSORS:!0,0:0,1:2}),li=Math.max,ui=Math.min,fi=9007199254740991,pi="Maximum allowed length exceeded";Qo({target:"Array",proto:!0,forced:!si||!ci},{splice:function(t,e){var r,n,o,i,a,s,c=ni(this),l=ri(c.length),u=ti(t,l),f=arguments.length;if(0===f?r=n=0:1===f?(r=0,n=l-u):(r=f-2,n=ui(li(ei(e),0),l-u)),l+r-n>fi)throw TypeError(pi);for(o=oi(c,n),i=0;i<n;i++)(a=u+i)in c&&ii(o,i,c[a]);if(o.length=n,r<n){for(i=u;i<l-n;i++)s=i+r,(a=i+n)in c?c[s]=c[a]:delete c[s];for(i=l;i>l-n+r;i--)delete c[i-1]}else if(r>n)for(i=l-n;i>u;i--)s=i+r-1,(a=i+n-1)in c?c[s]=c[a]:delete c[s];for(i=0;i<r;i++)c[i+u]=arguments[i+2];return c.length=l-n+r,o}});var hi=Zo,di=X,vi=xe,yi=L,xi=Pe,gi=ke,mi=Dr,bi=Se,wi=$r,Si=Ir,Ai=fe("isConcatSpreadable"),Ei=9007199254740991,Ti="Maximum allowed index exceeded",_i=Si>=51||!di((function(){var t=[];return t[Ai]=!1,t.concat()[0]!==t})),Ci=wi("concat"),Oi=function(t){if(!yi(t))return!1;var e=t[Ai];return void 0!==e?!!e:vi(t)};hi({target:"Array",proto:!0,forced:!_i||!Ci},{concat:function(t){var e,r,n,o,i,a=xi(this),s=bi(a,0),c=0;for(e=-1,n=arguments.length;e<n;e++)if(Oi(i=-1===e?a:arguments[e])){if(c+(o=gi(i.length))>Ei)throw TypeError(Ti);for(r=0;r<o;r++,c++)r in i&&mi(s,c,i[r])}else{if(c>=Ei)throw TypeError(Ti);mi(s,c++,i)}return s.length=c,s}});var Mi=Zo,ki=tr.map,Ii=Ct,Ri=$r("map"),Li=Ii("map");Mi({target:"Array",proto:!0,forced:!Ri||!Li},{map:function(t){return ki(this,t,arguments.length>1?arguments[1]:void 0)}});var ji={exports:{}},Pi={};Pi[fe("toStringTag")]="z",ji.exports="[object z]"===String(Pi);var $i=ji.exports,Ni={exports:{}},Fi=$i,Bi=de,Ui=fe("toStringTag"),Di="Arguments"==Bi(function(){return arguments}());Ni.exports=Fi?Bi:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Ui))?r:Di?Bi(e):"Object"==(n=Bi(e))&&"function"==typeof e.callee?"Arguments":n};var zi=Ni.exports,Vi={exports:{}},Gi=$i,Yi=zi;Vi.exports=Gi?{}.toString:function(){return"[object "+Yi(this)+"]"};var Hi=Vi.exports;$i||Vo(Object.prototype,"toString",Hi,{unsafe:!0});var Wi={},qi=Wi,Xi=X;function Ki(t,e){return RegExp(t,e)}qi.UNSUPPORTED_Y=Xi((function(){var t=Ki("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),qi.BROKEN_CARET=Xi((function(){var t=Ki("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));var Ji=Wi,Zi={exports:{}},Qi=B;Zi.exports=function(){var t=Qi(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};var ta,ea,ra=Zi.exports,na={exports:{}},oa=ra,ia=Ji,aa=RegExp.prototype.exec,sa=String.prototype.replace,ca=aa,la=(ta=/a/,ea=/b*/g,aa.call(ta,"a"),aa.call(ea,"a"),0!==ta.lastIndex||0!==ea.lastIndex),ua=ia.UNSUPPORTED_Y||ia.BROKEN_CARET,fa=void 0!==/()??/.exec("")[1];(la||fa||ua)&&(ca=function(t){var e,r,n,o,i=this,a=ua&&i.sticky,s=oa.call(i),c=i.source,l=0,u=t;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),u=String(t).slice(i.lastIndex),i.lastIndex>0&&(!i.multiline||i.multiline&&"\n"!==t[i.lastIndex-1])&&(c="(?: "+c+")",u=" "+u,l++),r=new RegExp("^(?:"+c+")",s)),fa&&(r=new RegExp("^"+c+"$(?!\\s)",s)),la&&(e=i.lastIndex),n=aa.call(a?r:i,u),a?n?(n.input=n.input.slice(l),n[0]=n[0].slice(l),n.index=i.lastIndex,i.lastIndex+=n[0].length):i.lastIndex=0:la&&n&&(i.lastIndex=i.global?n.index+n[0].length:e),fa&&n&&n.length>1&&sa.call(n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n}),na.exports=ca;var pa=na.exports;Zo({target:"RegExp",proto:!0,forced:/./.exec!==pa},{exec:pa});var ha=Vo,da=B,va=X,ya=ra,xa="toString",ga=RegExp.prototype,ma=ga.toString,ba=va((function(){return"/a/b"!=ma.call({source:"a",flags:"b"})})),wa=ma.name!=xa;(ba||wa)&&ha(RegExp.prototype,xa,(function(){var t=da(this),e=String(t.source),r=t.flags;return"/"+e+"/"+String(void 0===r&&t instanceof RegExp&&!("flags"in ga)?ya.call(t):r)}),{unsafe:!0});var Sa={exports:{}},Aa=de,Ea=pa;Sa.exports=function(t,e){var r=t.exec;if("function"==typeof r){var n=r.call(t,e);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==Aa(t))throw TypeError("RegExp#exec called on incompatible receiver");return Ea.call(t,e)};var Ta=Sa.exports,_a={exports:{}},Ca=_e,Oa=Re,Ma=function(t){return function(e,r){var n,o,i=String(Oa(e)),a=Ca(r),s=i.length;return a<0||a>=s?t?"":void 0:(n=i.charCodeAt(a))<55296||n>56319||a+1===s||(o=i.charCodeAt(a+1))<56320||o>57343?t?i.charAt(a):n:t?i.slice(a,a+2):o-56320+(n-55296<<10)+65536}};_a.exports={codeAt:Ma(!1),charAt:Ma(!0)};var ka={exports:{}},Ia=_a.exports.charAt;ka.exports=function(t,e,r){return e+(r?Ia(t,e).length:1)};var Ra=ka.exports,La={exports:{}},ja=Vo,Pa=X,$a=fe,Na=pa,Fa=yt,Ba=$a("species"),Ua=!Pa((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),Da="$0"==="a".replace(/./,"$0"),za=$a("replace"),Va=!!/./[za]&&""===/./[za]("a","$0"),Ga=!Pa((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));La.exports=function(t,e,r,n){var o=$a(t),i=!Pa((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),a=i&&!Pa((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[Ba]=function(){return r},r.flags="",r[o]=/./[o]),r.exec=function(){return e=!0,null},r[o](""),!e}));if(!i||!a||"replace"===t&&(!Ua||!Da||Va)||"split"===t&&!Ga){var s=/./[o],c=r(o,""[t],(function(t,e,r,n,o){return e.exec===Na?i&&!o?{done:!0,value:s.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:Da,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Va}),l=c[0],u=c[1];ja(String.prototype,t,l),ja(RegExp.prototype,o,2==e?function(t,e){return u.call(t,this,e)}:function(t){return u.call(t,this)})}n&&Fa(RegExp.prototype[o],"sham",!0)};var Ya=La.exports,Ha=B,Wa=ke,qa=Re,Xa=Ra,Ka=Ta;Ya("match",1,(function(t,e,r){return[function(e){var r=qa(this),n=null==e?void 0:e[t];return void 0!==n?n.call(e,r):new RegExp(e)[t](String(r))},function(t){var n=r(e,t,this);if(n.done)return n.value;var o=Ha(t),i=String(this);if(!o.global)return Ka(o,i);var a=o.unicode;o.lastIndex=0;for(var s,c=[],l=0;null!==(s=Ka(o,i));){var u=String(s[0]);c[l]=u,""===u&&(o.lastIndex=Xa(i,Wa(o.lastIndex),a)),l++}return 0===l?null:c}]}));var Ja=Ya,Za=B,Qa=Pe,ts=ke,es=_e,rs=Re,ns=Ra,os=Ta,is=Math.max,as=Math.min,ss=Math.floor,cs=/\$([$&'`]|\d\d?|<[^>]*>)/g,ls=/\$([$&'`]|\d\d?)/g;function us(t){return 1-"0x".concat(t)/255}function fs(t){var e=t.match(/(\w\w)(\w\w)(\w\w)(\w\w)/),r=us(e[1]),n=+"0x".concat(e[2]),o=+"0x".concat(e[3]),i=+"0x".concat(e[4]);return"rgba(".concat(i,",").concat(o,",").concat(n,",").concat(r,")")}function ps(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function hs(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=document.createElementNS("http://www.w3.org/2000/svg",t),n=0;n<e.length;n++){var o=e[n];r.setAttributeNS("xlink:href"===o[0]?"http://www.w3.org/1999/xlink":null,o[0],o[1])}return r}Ja("replace",2,(function(t,e,r,n){var o=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,i=n.REPLACE_KEEPS_$0,a=o?"$":"$0";return[function(r,n){var o=rs(this),i=null==r?void 0:r[t];return void 0!==i?i.call(r,o,n):e.call(String(o),r,n)},function(t,n){if(!o&&i||"string"==typeof n&&-1===n.indexOf(a)){var c=r(e,t,this,n);if(c.done)return c.value}var l=Za(t),u=String(this),f="function"==typeof n;f||(n=String(n));var p=l.global;if(p){var h=l.unicode;l.lastIndex=0}for(var d=[];;){var v=os(l,u);if(null===v)break;if(d.push(v),!p)break;""===String(v[0])&&(l.lastIndex=ns(u,ts(l.lastIndex),h))}for(var y,x="",g=0,m=0;m<d.length;m++){v=d[m];for(var b=String(v[0]),w=is(as(es(v.index),u.length),0),S=[],A=1;A<v.length;A++)S.push(void 0===(y=v[A])?y:String(y));var E=v.groups;if(f){var T=[b].concat(S,w,u);void 0!==E&&T.push(E);var _=String(n.apply(void 0,T))}else _=s(b,u,w,S,E,n);w>=g&&(x+=u.slice(g,w)+_,g=w+b.length)}return x+u.slice(g)}];function s(t,r,n,o,i,a){var s=n+t.length,c=o.length,l=ls;return void 0!==i&&(i=Qa(i),l=cs),e.call(a,l,(function(e,a){var l;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return r.slice(0,n);case"'":return r.slice(s);case"<":l=i[a.slice(1,-1)];break;default:var u=+a;if(0===u)return e;if(u>c){var f=ss(u/10);return 0===f?e:f<=c?void 0===o[f-1]?a.charAt(1):o[f-1]+a.charAt(1):e}l=o[u-1]}return void 0===l?"":l}))}}));var ds,vs,ys,xs={clipPath:(ds="clipPath",vs=document.body.style,ys=ds.replace(/^\w/,(function(t){return t.toUpperCase()})),ds in vs?"":"webkit".concat(ys)in vs?"-webkit-":"moz".concat(ys)in vs?"-moz-":"")};function gs(t){var e=t.getRootNode?t.getRootNode():document;return e===document?e.head:e}var ms=["fscx","fscy","frx","fry","frz","fax","fay"];function bs(t,e,r){var n=t.animate(e,r);return n.pause(),n}function ws(t,e){t.animations.forEach((function(t){t[e]()}))}function Ss(t){var e=this._.scriptRes.width,r=this._.scriptRes.height,n="";if(null!==t.dots){var o=t.dots,i=o.x1,a=o.y1,s=o.x2,c=o.y2;a/=r,s/=e,c/=r,n="M".concat(i/=e,",").concat(a,"L").concat(i,",").concat(c,",").concat(s,",").concat(c,",").concat(s,",").concat(a,"Z")}null!==t.drawing&&(n=t.drawing.instructions.map((function(t){return t.type+t.points.map((function(t){var n=t.x,o=t.y;return"".concat(n/e,",").concat(o/r)})).join(",")})).join(""));var l=1/(1<<t.scale-1);t.inverse&&(n+="M0,0L0,".concat(l,",").concat(l,",").concat(l,",").concat(l,",0,0,0Z"));var u="ASS-".concat(ps()),f=hs("clipPath",[["id",u],["clipPathUnits","objectBoundingBox"]]);return f.appendChild(hs("path",[["d",n],["transform","scale(".concat(l,")")],["clip-rule","evenodd"]])),this._.$defs.appendChild(f),{$clipPath:f,cssText:"".concat(xs.clipPath,"clip-path:url(#").concat(u,");")}}function As(t){if(t.clip){var e=document.createElement("div");this._.$stage.insertBefore(e,t.$div),e.appendChild(t.$div),e.className="ASS-fix-objectBoundingBox";var r=Ss.call(this,t.clip),n=r.cssText,o=r.$clipPath;this._.$defs.appendChild(o),e.style.cssText=n,h(t,{$div:e,$clipPath:o})}}var Es={exports:{}},Ts=B,_s=ze,Cs=fe("species");Es.exports=function(t,e){var r,n=Ts(t).constructor;return void 0===n||null==(r=Ts(n)[Cs])?e:_s(r)};var Os=Es.exports,Ms={exports:{}},ks=L,Is=de,Rs=fe("match");Ms.exports=function(t){var e;return ks(t)&&(void 0!==(e=t[Rs])?!!e:"RegExp"==Is(t))};var Ls=Ya,js=Ms.exports,Ps=B,$s=Re,Ns=Os,Fs=Ra,Bs=ke,Us=Ta,Ds=pa,zs=X,Vs=[].push,Gs=Math.min,Ys=4294967295,Hs=!zs((function(){return!RegExp(Ys,"y")}));Ls("split",2,(function(t,e,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var n=String($s(this)),o=void 0===r?Ys:r>>>0;if(0===o)return[];if(void 0===t)return[n];if(!js(t))return e.call(n,t,o);for(var i,a,s,c=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,f=new RegExp(t.source,l+"g");(i=Ds.call(f,n))&&!((a=f.lastIndex)>u&&(c.push(n.slice(u,i.index)),i.length>1&&i.index<n.length&&Vs.apply(c,i.slice(1)),s=i[0].length,u=a,c.length>=o));)f.lastIndex===i.index&&f.lastIndex++;return u===n.length?!s&&f.test("")||c.push(""):c.push(n.slice(u)),c.length>o?c.slice(0,o):c}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:e.call(this,t,r)}:e,[function(e,r){var o=$s(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,o,r):n.call(String(o),e,r)},function(t,o){var i=r(n,t,this,o,n!==e);if(i.done)return i.value;var a=Ps(t),s=String(this),c=Ns(a,RegExp),l=a.unicode,u=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(Hs?"y":"g"),f=new c(Hs?a:"^(?:"+a.source+")",u),p=void 0===o?Ys:o>>>0;if(0===p)return[];if(0===s.length)return null===Us(f,s)?[s]:[];for(var h=0,d=0,v=[];d<s.length;){f.lastIndex=Hs?d:0;var y,x=Us(f,Hs?s:s.slice(d));if(null===x||(y=Gs(Bs(f.lastIndex+(Hs?0:d)),s.length))===h)d=Fs(s,d,l);else{if(v.push(s.slice(h,d)),v.length===p)return v;for(var g=1;g<=x.length-1;g++)if(v.push(x[g]),v.length===p)return v;d=h=y}}return v.push(s.slice(h)),v}]}),!Hs);var Ws=Zo,qs=tr.filter,Xs=Ct,Ks=$r("filter"),Js=Xs("filter");Ws({target:"Array",proto:!0,forced:!Ks||!Js},{filter:function(t){return qs(this,t,arguments.length>1?arguments[1]:void 0)}});var Zs={exports:{}},Qs=xe,tc=ke,ec=Ye;Zs.exports=function t(e,r,n,o,i,a,s,c){for(var l,u=i,f=0,p=!!s&&ec(s,c,3);f<o;){if(f in n){if(l=p?p(n[f],f,r):n[f],a>0&&Qs(l))u=t(e,r,l,tc(l.length),u,a-1)-1;else{if(u>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[u]=l}u++}f++}return u};var rc=Zs.exports,nc=Pe,oc=ke,ic=_e,ac=Se;Zo({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=nc(this),r=oc(e.length),n=ac(e,0);return n.length=rc(n,e,e,r,0,void 0===t?1:ic(t)),n}});var sc={exports:{}},cc=wr;sc.exports=cc("document","documentElement");var lc=sc.exports,uc={exports:{}},fc=Un,pc=_n;uc.exports=Object.keys||function(t){return fc(t,pc)};var hc=uc.exports,dc={exports:{}},vc=Z,yc=ft,xc=B,gc=hc;dc.exports=vc?Object.defineProperties:function(t,e){xc(t);for(var r,n=gc(e),o=n.length,i=0;o>i;)yc.f(t,r=n[i++],e[r]);return t};var mc,bc=dc.exports,wc={exports:{}},Sc=B,Ac=bc,Ec=_n,Tc=On,_c=lc,Cc=W,Oc=so("IE_PROTO"),Mc=function(){},kc=function(t){return"<script>"+t+"</"+"script>"},Ic=function(){try{mc=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;Ic=mc?function(t){t.write(kc("")),t.close();var e=t.parentWindow.Object;return t=null,e}(mc):((e=Cc("iframe")).style.display="none",_c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(kc("document.F=Object")),t.close(),t.F);for(var r=Ec.length;r--;)delete Ic.prototype[Ec[r]];return Ic()};Tc[Oc]=!0,wc.exports=Object.create||function(t,e){var r;return null!==t?(Mc.prototype=Sc(t),r=new Mc,Mc.prototype=null,r[Oc]=t):r=Ic(),void 0===e?r:Ac(r,e)};var Rc=wc.exports,Lc={exports:{}},jc=Rc,Pc=ft,$c=fe("unscopables"),Nc=Array.prototype;null==Nc[$c]&&Pc.f(Nc,$c,{configurable:!0,value:jc(null)}),Lc.exports=function(t){Nc[$c][t]=!0};var Fc=Lc.exports;function Bc(t){var r=e(t,2),n=r[0],o=r[1];return[[0,0],[0,1],[1,0],[1,1]].filter((function(t){var r=e(t,2),i=r[0],a=r[1];return(i||n)&&(a||o)})).map((function(t){var r=e(t,2),i=r[0],a=r[1];return[(i||-1)*n,(a||-1)*o]}))}function Uc(t,r){var n=fs("00".concat(t.c3)),o=t.xbord*r,i=t.ybord*r,a=fs("00".concat(t.c4)),s=t.xshad*r,c=t.yshad*r,l=t.blur||t.be||0,u=function(t,r){if(t===r)return[];var n=Math.min(t,r),o=Math.max(t,r);return Array.from({length:Math.ceil(o)-1},(function(t,e){return e+1})).concat(o).map((function(t){return[(o-t)/o*n,t]})).map((function(n){var o=e(n,2),i=o[0],a=o[1];return t>r?[a,i]:[i,a]})).map(Bc).flat()}(o,i);return[{key:"border-width",value:"".concat(2*Math.min(o,i),"px")},{key:"border-color",value:n},{key:"border-opacity",value:us(t.a3)},{key:"border-delta",value:u.map((function(t){var r=e(t,2),o=r[0],i=r[1];return"".concat(o,"px ").concat(i,"px ").concat(n)})).join()},{key:"shadow-offset",value:"".concat(s,"px, ").concat(c,"px")},{key:"shadow-color",value:a},{key:"shadow-opacity",value:us(t.a4)},{key:"shadow-delta",value:u.map((function(t){var r=e(t,2),n=r[0],o=r[1];return"".concat(n,"px ").concat(o,"px ").concat(a)})).join()},{key:"blur",value:"blur(".concat(l,"px)")}].map((function(t){return Object.assign(t,{key:"--ass-".concat(t.key)})}))}function Dc(t,e){var r=h({},e,t.tag),n=t.drawing,o=n.minX,i=n.minY,a=n.width,s=n.height,c=this.scale/(1<<r.p-1),l=(r.fscx?r.fscx/100:1)*c,u=(r.fscy?r.fscy/100:1)*c,f=r.blur||r.be||0,p=r.xbord+(r.xshad<0?-r.xshad:0)+f,d=r.ybord+(r.yshad<0?-r.yshad:0)+f,v=a*l+2*r.xbord+Math.abs(r.xshad)+2*f,y=s*u+2*r.ybord+Math.abs(r.yshad)+2*f,x=hs("svg",[["width",v],["height",y],["viewBox","".concat(-p," ").concat(-d," ").concat(v," ").concat(y)]]),g=/Yes/i.test(this.info.ScaledBorderAndShadow)?this.scale:1,m="ASS-".concat(ps()),b=hs("defs");b.appendChild(function(t,e,r){var n=t.xbord||t.ybord,o=t.xshad||t.yshad,i="FF"!==t.a1,a=t.blur||t.be||0,s=hs("filter",[["id",e]]);s.appendChild(hs("feGaussianBlur",[["stdDeviation",n?0:a],["in","SourceGraphic"],["result","sg_b"]])),s.appendChild(hs("feFlood",[["flood-color",fs(t.a1+t.c1)],["result","c1"]])),s.appendChild(hs("feComposite",[["operator","in"],["in","c1"],["in2","sg_b"],["result","main"]])),n&&(s.appendChild(hs("feMorphology",[["radius","".concat(t.xbord*r," ").concat(t.ybord*r)],["operator","dilate"],["in","SourceGraphic"],["result","dil"]])),s.appendChild(hs("feGaussianBlur",[["stdDeviation",a],["in","dil"],["result","dil_b"]])),s.appendChild(hs("feComposite",[["operator","out"],["in","dil_b"],["in2","SourceGraphic"],["result","dil_b_o"]])),s.appendChild(hs("feFlood",[["flood-color",fs(t.a3+t.c3)],["result","c3"]])),s.appendChild(hs("feComposite",[["operator","in"],["in","c3"],["in2","dil_b_o"],["result","border"]]))),o&&(n||i)&&(s.appendChild(hs("feOffset",[["dx",t.xshad*r],["dy",t.yshad*r],["in",n?"dil":"SourceGraphic"],["result","off"]])),s.appendChild(hs("feGaussianBlur",[["stdDeviation",a],["in","off"],["result","off_b"]])),i||(s.appendChild(hs("feOffset",[["dx",t.xshad*r],["dy",t.yshad*r],["in","SourceGraphic"],["result","sg_off"]])),s.appendChild(hs("feComposite",[["operator","out"],["in","off_b"],["in2","sg_off"],["result","off_b_o"]]))),s.appendChild(hs("feFlood",[["flood-color",fs(t.a4+t.c4)],["result","c4"]])),s.appendChild(hs("feComposite",[["operator","in"],["in","c4"],["in2",i?"off_b":"off_b_o"],["result","shadow"]])));var c=hs("feMerge",[]);return o&&(n||i)&&c.appendChild(hs("feMergeNode",[["in","shadow"]])),n&&c.appendChild(hs("feMergeNode",[["in","border"]])),c.appendChild(hs("feMergeNode",[["in","main"]])),s.appendChild(c),s}(r,m,g)),x.appendChild(b);var w="ASS-".concat(ps()),S=hs("symbol",[["id",w],["viewBox","".concat(o," ").concat(i," ").concat(a," ").concat(s)]]);return S.appendChild(hs("path",[["d",t.drawing.d]])),x.appendChild(S),x.appendChild(hs("use",[["width",a*l],["height",s*u],["xlink:href","#".concat(w)],["filter","url(#".concat(m,")")]])),x.style.cssText="position:absolute;"+"left:".concat(o*l-p,"px;")+"top:".concat(i*u-d,"px;"),{$svg:x,cssText:"position:relative;width:".concat(a*l,"px;height:").concat(s*u,"px;")}}Fc("flat");var zc=document.createElement("div");zc.className="ASS-fix-font-size",zc.textContent="M";var Vc=Object.create(null);function Gc(t,e){var r="".concat(t,"-").concat(e);return Vc[r]||(zc.style.cssText="line-height:normal;font-size:".concat(e,'px;font-family:"').concat(t,'",Arial;'),Vc[r]=e*e/zc.clientHeight),Vc[r]}function Yc(t){return["perspective(314px)","rotateY(".concat(t.fry||0,"deg)"),"rotateX(".concat(t.frx||0,"deg)"),"rotateZ(".concat(-t.frz||0,"deg)"),"scale(".concat(t.p?1:(t.fscx||100)/100,",").concat(t.p?1:(t.fscy||100)/100,")"),"skew(".concat(t.fax||0,"rad,").concat(t.fay||0,"rad)")].join(" ")}function Hc(t){var e=this,n=document.createElement("div");n.className="ASS-dialogue";var o=document.createDocumentFragment(),i=t.slices,a=t.start,s={duration:1e3*(t.end-a),delay:1e3*Math.min(0,a-this.video.currentTime),fill:"forwards"};return n.animations=[],i.forEach((function(t){var i=e.styles[t.style].tag,a=e.styles[t.style].style.BorderStyle;t.fragments.forEach((function(t){var c=t.text,l=t.drawing,u=h({},i,t.tag),f="display:inline-block;",p=[];if(!l){f+='line-height:normal;font-family:"'.concat(u.fn,'",Arial;'),f+="font-size:".concat(e.scale*Gc(u.fn,u.fs),"px;"),f+="color:".concat(fs(u.a1+u.c1),";");var d=/Yes/i.test(e.info.ScaledBorderAndShadow)?e.scale:1;if(1===a&&p.push.apply(p,r(Uc(u,d))),3===a){var v=fs(u.a3+u.c3),y=u.xbord*d,x=u.ybord*d,g=fs(u.a4+u.c4),m=u.xshad*d,b=u.yshad*d;f+="".concat(y||x?"background-color:".concat(v,";"):"")+"border:0 solid ".concat(v,";")+"border-width:".concat(y,"px ").concat(x,"px;")+"margin:".concat(-y,"px ").concat(-x,"px;")+"box-shadow:".concat(m,"px ").concat(b,"px ").concat(g,";")}f+=u.b?"font-weight:".concat(1===u.b?"bold":u.b,";"):"",f+=u.i?"font-style:italic;":"",f+=u.u||u.s?"text-decoration:".concat(u.u?"underline":""," ").concat(u.s?"line-through":"",";"):"",f+=u.fsp?"letter-spacing:".concat(u.fsp,"px;"):"",1!==u.q&&0!==u.q&&3!==u.q||(f+="word-break:break-all;white-space:normal;"),2===u.q&&(f+="word-break:normal;white-space:nowrap;")}if(ms.some((function(t){return/^fsc[xy]$/.test(t)?100!==u[t]:!!u[t]}))&&(f+="transform:".concat(Yc(u),";"),l||(f+="transform-style:preserve-3d;word-break:normal;white-space:nowrap;")),l&&u.pbo){var w=e.scale*-u.pbo*(u.fscy||100)/100;f+="vertical-align:".concat(w,"px;")}var S=/"fr[xyz]":[^0]/.test(JSON.stringify(u));(function(t,e){return t.replace(/\\h/g," ").replace(/\\N/g,"\n").replace(/\\n/g,2===e?"\n":" ")})(c,u.q).split("\n").forEach((function(r,a){var c=document.createElement("span");if(c.dataset.hasRotate=S,l){var h=Dc.call(e,t,i);c.style.cssText=h.cssText,c.appendChild(h.$svg)}else{if(a&&o.appendChild(document.createElement("br")),!r)return;c.textContent=r,(u.xbord||u.ybord||u.xshad||u.yshad)&&(c.dataset.stroke=r)}c.style.cssText+=f,p.forEach((function(t){var e=t.key,r=t.value;c.style.setProperty(e,r)})),t.keyframes&&n.animations.push(bs(c,t.keyframes,s)),o.appendChild(c)}))}))})),t.keyframes&&n.animations.push(bs(n,t.keyframes,s)),n.appendChild(o),n}var Wc={exports:{}},qc=X;Wc.exports=!qc((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}));var Xc=Wc.exports,Kc={exports:{}},Jc=mt,Zc=Pe,Qc=Xc,tl=so("IE_PROTO"),el=Object.prototype;Kc.exports=Qc?Object.getPrototypeOf:function(t){return t=Zc(t),Jc(t,tl)?t[tl]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?el:null};var rl,nl,ol,il=Kc.exports,al={exports:{}},sl=il,cl=yt,ll=mt,ul=Jt,fl=fe("iterator"),pl=!1;[].keys&&("next"in(ol=[].keys())?(nl=sl(sl(ol)))!==Object.prototype&&(rl=nl):pl=!0),null==rl&&(rl={}),ul||ll(rl,fl)||cl(rl,fl,(function(){return this})),al.exports={IteratorPrototype:rl,BUGGY_SAFARI_ITERATORS:pl};var hl=al.exports,dl={exports:{}};dl.exports={};var vl=dl.exports,yl={exports:{}},xl=ft.f,gl=mt,ml=fe("toStringTag");yl.exports=function(t,e,r){t&&!gl(t=r?t:t.prototype,ml)&&xl(t,ml,{configurable:!0,value:e})};var bl=yl.exports,wl={exports:{}},Sl=L;wl.exports=function(t){if(!Sl(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t};var Al=wl.exports,El={exports:{}},Tl=B,_l=Al;El.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return Tl(r),_l(n),e?t.call(r,n):r.__proto__=n,r}}():void 0);var Cl=El.exports,Ol={exports:{}},Ml=hl.IteratorPrototype,kl=Rc,Il=I,Rl=bl,Ll=vl,jl=function(){return this};Ol.exports=function(t,e,r){var n=e+" Iterator";return t.prototype=kl(Ml,{next:Il(1,r)}),Rl(t,n,!1,!0),Ll[n]=jl,t};var Pl=Ol.exports,$l={exports:{}},Nl=Zo,Fl=Pl,Bl=il,Ul=Cl,Dl=bl,zl=yt,Vl=Vo,Gl=fe,Yl=Jt,Hl=vl,Wl=hl,ql=Wl.IteratorPrototype,Xl=Wl.BUGGY_SAFARI_ITERATORS,Kl=Gl("iterator"),Jl="keys",Zl="values",Ql="entries",tu=function(){return this};$l.exports=function(t,e,r,n,o,i,a){Fl(r,e,n);var s,c,l,u=function(t){if(t===o&&v)return v;if(!Xl&&t in h)return h[t];switch(t){case Jl:case Zl:case Ql:return function(){return new r(this,t)}}return function(){return new r(this)}},f=e+" Iterator",p=!1,h=t.prototype,d=h[Kl]||h["@@iterator"]||o&&h[o],v=!Xl&&d||u(o),y="Array"==e&&h.entries||d;if(y&&(s=Bl(y.call(new t)),ql!==Object.prototype&&s.next&&(Yl||Bl(s)===ql||(Ul?Ul(s,ql):"function"!=typeof s[Kl]&&zl(s,Kl,tu)),Dl(s,f,!0,!0),Yl&&(Hl[f]=tu))),o==Zl&&d&&d.name!==Zl&&(p=!0,v=function(){return d.call(this)}),Yl&&!a||h[Kl]===v||zl(h,Kl,v),Hl[e]=v,o)if(c={values:u(Zl),keys:i?v:u(Jl),entries:u(Ql)},a)for(l in c)(Xl||p||!(l in h))&&Vl(h,l,c[l]);else Nl({target:e,proto:!0,forced:Xl||p},c);return c};var eu=$l.exports,ru={exports:{}},nu=an,ou=Fc,iu=vl,au=Ro,su=eu,cu="Array Iterator",lu=au.set,uu=au.getterFor(cu);ru.exports=su(Array,"Array",(function(t,e){lu(this,{type:cu,target:nu(t),index:0,kind:e})}),(function(){var t=uu(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),iu.Arguments=iu.Array,ou("keys"),ou("values"),ou("entries");var fu=ru.exports,pu={exports:{}},hu=Pe,du=Hr,vu=ke;pu.exports=function(t){for(var e=hu(this),r=vu(e.length),n=arguments.length,o=du(n>1?arguments[1]:void 0,r),i=n>2?arguments[2]:void 0,a=void 0===i?r:du(i,r);a>o;)e[o++]=t;return e};var yu=pu.exports,xu={exports:{}},gu=1/0,mu=Math.abs,bu=Math.pow,wu=Math.floor,Su=Math.log,Au=Math.LN2;xu.exports={pack:function(t,e,r){var n,o,i,a=new Array(r),s=8*r-e-1,c=(1<<s)-1,l=c>>1,u=23===e?bu(2,-24)-bu(2,-77):0,f=t<0||0===t&&1/t<0?1:0,p=0;for((t=mu(t))!=t||t===gu?(o=t!=t?1:0,n=c):(n=wu(Su(t)/Au),t*(i=bu(2,-n))<1&&(n--,i*=2),(t+=n+l>=1?u/i:u*bu(2,1-l))*i>=2&&(n++,i/=2),n+l>=c?(o=0,n=c):n+l>=1?(o=(t*i-1)*bu(2,e),n+=l):(o=t*bu(2,l-1)*bu(2,e),n=0));e>=8;a[p++]=255&o,o/=256,e-=8);for(n=n<<e|o,s+=e;s>0;a[p++]=255&n,n/=256,s-=8);return a[--p]|=128*f,a},unpack:function(t,e){var r,n=t.length,o=8*n-e-1,i=(1<<o)-1,a=i>>1,s=o-7,c=n-1,l=t[c--],u=127&l;for(l>>=7;s>0;u=256*u+t[c],c--,s-=8);for(r=u&(1<<-s)-1,u>>=-s,s+=e;s>0;r=256*r+t[c],c--,s-=8);if(0===u)u=1-a;else{if(u===i)return r?NaN:l?-1/0:gu;r+=bu(2,e),u-=a}return(l?-1:1)*r*bu(2,u-e)}};var Eu=xu.exports,Tu={exports:{}},_u=_e,Cu=ke;Tu.exports=function(t){if(void 0===t)return 0;var e=_u(t),r=Cu(e);if(e!==r)throw RangeError("Wrong length or index");return r};var Ou=Tu.exports,Mu={exports:{}};Mu.exports=function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t};var ku=Mu.exports,Iu={exports:{}},Ru=Vo;Iu.exports=function(t,e,r){for(var n in e)Ru(t,n,e[n],r);return t};var Lu=Iu.exports,ju={exports:{}};ju.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView;var Pu=ju.exports,$u={exports:{}},Nu=z,Fu=Z,Bu=Pu,Uu=yt,Du=Lu,zu=X,Vu=ku,Gu=_e,Yu=ke,Hu=Ou,Wu=Eu,qu=il,Xu=Cl,Ku=Yn.f,Ju=ft.f,Zu=yu,Qu=bl,tf=Ro,ef=tf.get,rf=tf.set,nf="ArrayBuffer",of="DataView",af="Wrong index",sf=Nu.ArrayBuffer,cf=sf,lf=Nu.DataView,uf=lf&&lf.prototype,ff=Object.prototype,pf=Nu.RangeError,hf=Wu.pack,df=Wu.unpack,vf=function(t){return[255&t]},yf=function(t){return[255&t,t>>8&255]},xf=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},gf=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},mf=function(t){return hf(t,23,4)},bf=function(t){return hf(t,52,8)},wf=function(t,e){Ju(t.prototype,e,{get:function(){return ef(this)[e]}})},Sf=function(t,e,r,n){var o=Hu(r),i=ef(t);if(o+e>i.byteLength)throw pf(af);var a=ef(i.buffer).bytes,s=o+i.byteOffset,c=a.slice(s,s+e);return n?c:c.reverse()},Af=function(t,e,r,n,o,i){var a=Hu(r),s=ef(t);if(a+e>s.byteLength)throw pf(af);for(var c=ef(s.buffer).bytes,l=a+s.byteOffset,u=n(+o),f=0;f<e;f++)c[l+f]=u[i?f:e-f-1]};if(Bu){if(!zu((function(){sf(1)}))||!zu((function(){new sf(-1)}))||zu((function(){return new sf,new sf(1.5),new sf(NaN),sf.name!=nf}))){for(var Ef,Tf=(cf=function(t){return Vu(this,cf),new sf(Hu(t))}).prototype=sf.prototype,_f=Ku(sf),Cf=0;_f.length>Cf;)(Ef=_f[Cf++])in cf||Uu(cf,Ef,sf[Ef]);Tf.constructor=cf}Xu&&qu(uf)!==ff&&Xu(uf,ff);var Of=new lf(new cf(2)),Mf=uf.setInt8;Of.setInt8(0,2147483648),Of.setInt8(1,2147483649),!Of.getInt8(0)&&Of.getInt8(1)||Du(uf,{setInt8:function(t,e){Mf.call(this,t,e<<24>>24)},setUint8:function(t,e){Mf.call(this,t,e<<24>>24)}},{unsafe:!0})}else cf=function(t){Vu(this,cf,nf);var e=Hu(t);rf(this,{bytes:Zu.call(new Array(e),0),byteLength:e}),Fu||(this.byteLength=e)},lf=function(t,e,r){Vu(this,lf,of),Vu(t,cf,of);var n=ef(t).byteLength,o=Gu(e);if(o<0||o>n)throw pf("Wrong offset");if(o+(r=void 0===r?n-o:Yu(r))>n)throw pf("Wrong length");rf(this,{buffer:t,byteLength:r,byteOffset:o}),Fu||(this.buffer=t,this.byteLength=r,this.byteOffset=o)},Fu&&(wf(cf,"byteLength"),wf(lf,"buffer"),wf(lf,"byteLength"),wf(lf,"byteOffset")),Du(lf.prototype,{getInt8:function(t){return Sf(this,1,t)[0]<<24>>24},getUint8:function(t){return Sf(this,1,t)[0]},getInt16:function(t){var e=Sf(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=Sf(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return gf(Sf(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return gf(Sf(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return df(Sf(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return df(Sf(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){Af(this,1,t,vf,e)},setUint8:function(t,e){Af(this,1,t,vf,e)},setInt16:function(t,e){Af(this,2,t,yf,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){Af(this,2,t,yf,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){Af(this,4,t,xf,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){Af(this,4,t,xf,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){Af(this,4,t,mf,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){Af(this,8,t,bf,e,arguments.length>2?arguments[2]:void 0)}});Qu(cf,nf),Qu(lf,of),$u.exports={ArrayBuffer:cf,DataView:lf};var kf=$u.exports,If=Zo,Rf=X,Lf=kf,jf=B,Pf=Hr,$f=ke,Nf=Os,Ff=Lf.ArrayBuffer,Bf=Lf.DataView,Uf=Ff.prototype.slice;If({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:Rf((function(){return!new Ff(2).slice(1,void 0).byteLength}))},{slice:function(t,e){if(void 0!==Uf&&void 0===e)return Uf.call(jf(this),t);for(var r=jf(this).byteLength,n=Pf(t,r),o=Pf(void 0===e?r:e,r),i=new(Nf(this,Ff))($f(o-n)),a=new Bf(this),s=new Bf(i),c=0;n<o;)s.setUint8(c++,a.getUint8(n++));return i}});var Df={exports:{}},zf=L,Vf=Cl;Df.exports=function(t,e,r){var n,o;return Vf&&"function"==typeof(n=e.constructor)&&n!==r&&zf(o=n.prototype)&&o!==r.prototype&&Vf(t,o),t};var Gf=Df.exports,Yf={exports:{}},Hf=wr,Wf=ft,qf=Z,Xf=fe("species");Yf.exports=function(t){var e=Hf(t),r=Wf.f;qf&&e&&!e[Xf]&&r(e,Xf,{configurable:!0,get:function(){return this}})};var Kf,Jf=Yf.exports,Zf={exports:{}},Qf=Pu,tp=Z,ep=z,rp=L,np=mt,op=zi,ip=yt,ap=Vo,sp=ft.f,cp=il,lp=Cl,up=fe,fp=Ut,pp=ep.Int8Array,hp=pp&&pp.prototype,dp=ep.Uint8ClampedArray,vp=dp&&dp.prototype,yp=pp&&cp(pp),xp=hp&&cp(hp),gp=Object.prototype,mp=gp.isPrototypeOf,bp=up("toStringTag"),wp=fp("TYPED_ARRAY_TAG"),Sp=Qf&&!!lp&&"Opera"!==op(ep.opera),Ap=!1,Ep={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Tp=function(t){return rp(t)&&np(Ep,op(t))};for(Kf in Ep)ep[Kf]||(Sp=!1);if((!Sp||"function"!=typeof yp||yp===Function.prototype)&&(yp=function(){throw TypeError("Incorrect invocation")},Sp))for(Kf in Ep)ep[Kf]&&lp(ep[Kf],yp);if((!Sp||!xp||xp===gp)&&(xp=yp.prototype,Sp))for(Kf in Ep)ep[Kf]&&lp(ep[Kf].prototype,xp);if(Sp&&cp(vp)!==xp&&lp(vp,xp),tp&&!np(xp,bp))for(Kf in Ap=!0,sp(xp,bp,{get:function(){return rp(this)?this[wp]:void 0}}),Ep)ep[Kf]&&ip(ep[Kf],wp,Kf);Zf.exports={NATIVE_ARRAY_BUFFER_VIEWS:Sp,TYPED_ARRAY_TAG:Ap&&wp,aTypedArray:function(t){if(Tp(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(lp){if(mp.call(yp,t))return t}else for(var e in Ep)if(np(Ep,Kf)){var r=ep[e];if(r&&(t===r||mp.call(r,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,r){if(tp){if(r)for(var n in Ep){var o=ep[n];o&&np(o.prototype,t)&&delete o.prototype[t]}xp[t]&&!r||ap(xp,t,r?e:Sp&&hp[t]||e)}},exportTypedArrayStaticMethod:function(t,e,r){var n,o;if(tp){if(lp){if(r)for(n in Ep)(o=ep[n])&&np(o,t)&&delete o[t];if(yp[t]&&!r)return;try{return ap(yp,t,r?e:Sp&&pp[t]||e)}catch(t){}}for(n in Ep)!(o=ep[n])||o[t]&&!r||ap(o,t,e)}},isView:function(t){var e=op(t);return"DataView"===e||np(Ep,e)},isTypedArray:Tp,TypedArray:yp,TypedArrayPrototype:xp};var _p=Zf.exports,Cp={exports:{}},Op=vl,Mp=fe("iterator"),kp=Array.prototype;Cp.exports=function(t){return void 0!==t&&(Op.Array===t||kp[Mp]===t)};var Ip=Cp.exports,Rp={exports:{}},Lp=zi,jp=vl,Pp=fe("iterator");Rp.exports=function(t){if(null!=t)return t[Pp]||t["@@iterator"]||jp[Lp(t)]};var $p=Rp.exports,Np={exports:{}},Fp=Pe,Bp=ke,Up=$p,Dp=Ip,zp=Ye,Vp=_p.aTypedArrayConstructor;Np.exports=function(t){var e,r,n,o,i,a,s=Fp(t),c=arguments.length,l=c>1?arguments[1]:void 0,u=void 0!==l,f=Up(s);if(null!=f&&!Dp(f))for(a=(i=f.call(s)).next,s=[];!(o=a.call(i)).done;)s.push(o.value);for(u&&c>2&&(l=zp(l,arguments[2],2)),r=Bp(s.length),n=new(Vp(this))(r),e=0;r>e;e++)n[e]=u?l(s[e],e):s[e];return n};var Gp=Np.exports,Yp={exports:{}},Hp=_e;Yp.exports=function(t){var e=Hp(t);if(e<0)throw RangeError("The argument can't be less than 0");return e};var Wp={exports:{}},qp=Yp.exports;Wp.exports=function(t,e){var r=qp(t);if(r%e)throw RangeError("Wrong offset");return r};var Xp=Wp.exports,Kp={exports:{}},Jp=fe("iterator"),Zp=!1;try{var Qp=0,th={next:function(){return{done:!!Qp++}},return:function(){Zp=!0}};th[Jp]=function(){return this},Array.from(th,(function(){throw 2}))}catch(t){}Kp.exports=function(t,e){if(!e&&!Zp)return!1;var r=!1;try{var n={};n[Jp]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r};var eh={exports:{}},rh=z,nh=X,oh=Kp.exports,ih=_p.NATIVE_ARRAY_BUFFER_VIEWS,ah=rh.ArrayBuffer,sh=rh.Int8Array;eh.exports=!ih||!nh((function(){sh(1)}))||!nh((function(){new sh(-1)}))||!oh((function(t){new sh,new sh(null),new sh(1.5),new sh(t)}),!0)||nh((function(){return 1!==new sh(new ah(2),1,void 0).length}));var ch=eh.exports,lh={exports:{}},uh=Zo,fh=z,ph=Z,hh=ch,dh=_p,vh=kf,yh=ku,xh=I,gh=yt,mh=ke,bh=Ou,wh=Xp,Sh=$,Ah=mt,Eh=zi,Th=L,_h=Rc,Ch=Cl,Oh=Yn.f,Mh=Gp,kh=tr.forEach,Ih=Jf,Rh=ft,Lh=Sn,jh=Ro,Ph=Gf,$h=jh.get,Nh=jh.set,Fh=Rh.f,Bh=Lh.f,Uh=Math.round,Dh=fh.RangeError,zh=vh.ArrayBuffer,Vh=vh.DataView,Gh=dh.NATIVE_ARRAY_BUFFER_VIEWS,Yh=dh.TYPED_ARRAY_TAG,Hh=dh.TypedArray,Wh=dh.TypedArrayPrototype,qh=dh.aTypedArrayConstructor,Xh=dh.isTypedArray,Kh="BYTES_PER_ELEMENT",Jh="Wrong length",Zh=function(t,e){for(var r=0,n=e.length,o=new(qh(t))(n);n>r;)o[r]=e[r++];return o},Qh=function(t,e){Fh(t,e,{get:function(){return $h(this)[e]}})},td=function(t){var e;return t instanceof zh||"ArrayBuffer"==(e=Eh(t))||"SharedArrayBuffer"==e},ed=function(t,e){return Xh(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},rd=function(t,e){return ed(t,e=Sh(e,!0))?xh(2,t[e]):Bh(t,e)},nd=function(t,e,r){return!(ed(t,e=Sh(e,!0))&&Th(r)&&Ah(r,"value"))||Ah(r,"get")||Ah(r,"set")||r.configurable||Ah(r,"writable")&&!r.writable||Ah(r,"enumerable")&&!r.enumerable?Fh(t,e,r):(t[e]=r.value,t)};ph?(Gh||(Lh.f=rd,Rh.f=nd,Qh(Wh,"buffer"),Qh(Wh,"byteOffset"),Qh(Wh,"byteLength"),Qh(Wh,"length")),uh({target:"Object",stat:!0,forced:!Gh},{getOwnPropertyDescriptor:rd,defineProperty:nd}),lh.exports=function(t,e,r){var n=t.match(/\d+$/)[0]/8,o=t+(r?"Clamped":"")+"Array",i="get"+t,a="set"+t,s=fh[o],c=s,l=c&&c.prototype,u={},f=function(t,e){Fh(t,e,{get:function(){return function(t,e){var r=$h(t);return r.view[i](e*n+r.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,o){var i=$h(t);r&&(o=(o=Uh(o))<0?0:o>255?255:255&o),i.view[a](e*n+i.byteOffset,o,!0)}(this,e,t)},enumerable:!0})};Gh?hh&&(c=e((function(t,e,r,i){return yh(t,c,o),Ph(Th(e)?td(e)?void 0!==i?new s(e,wh(r,n),i):void 0!==r?new s(e,wh(r,n)):new s(e):Xh(e)?Zh(c,e):Mh.call(c,e):new s(bh(e)),t,c)})),Ch&&Ch(c,Hh),kh(Oh(s),(function(t){t in c||gh(c,t,s[t])})),c.prototype=l):(c=e((function(t,e,r,i){yh(t,c,o);var a,s,l,u=0,p=0;if(Th(e)){if(!td(e))return Xh(e)?Zh(c,e):Mh.call(c,e);a=e,p=wh(r,n);var h=e.byteLength;if(void 0===i){if(h%n)throw Dh(Jh);if((s=h-p)<0)throw Dh(Jh)}else if((s=mh(i)*n)+p>h)throw Dh(Jh);l=s/n}else l=bh(e),a=new zh(s=l*n);for(Nh(t,{buffer:a,byteOffset:p,byteLength:s,length:l,view:new Vh(a)});u<l;)f(t,u++)})),Ch&&Ch(c,Hh),l=c.prototype=_h(Wh)),l.constructor!==c&&gh(l,"constructor",c),Yh&&gh(l,Yh,o),u[o]=c,uh({global:!0,forced:c!=s,sham:!Gh},u),Kh in c||gh(c,Kh,n),Kh in l||gh(l,Kh,n),Ih(o)}):lh.exports=function(){},(0,lh.exports)("Uint16",(function(t){return function(e,r,n){return t(this,e,r,n)}}));var od={exports:{}},id=Pe,ad=Hr,sd=ke,cd=Math.min;od.exports=[].copyWithin||function(t,e){var r=id(this),n=sd(r.length),o=ad(t,n),i=ad(e,n),a=arguments.length>2?arguments[2]:void 0,s=cd((void 0===a?n:ad(a,n))-i,n-o),c=1;for(i<o&&o<i+s&&(c=-1,i+=s-1,o+=s-1);s-- >0;)i in r?r[o]=r[i]:delete r[o],o+=c,i+=c;return r};var ld=_p,ud=od.exports,fd=ld.aTypedArray;(0,ld.exportTypedArrayMethod)("copyWithin",(function(t,e){return ud.call(fd(this),t,e,arguments.length>2?arguments[2]:void 0)}));var pd=_p,hd=tr.every,dd=pd.aTypedArray;(0,pd.exportTypedArrayMethod)("every",(function(t){return hd(dd(this),t,arguments.length>1?arguments[1]:void 0)}));var vd=_p,yd=yu,xd=vd.aTypedArray;(0,vd.exportTypedArrayMethod)("fill",(function(t){return yd.apply(xd(this),arguments)}));var gd=_p,md=tr.filter,bd=Os,wd=gd.aTypedArray,Sd=gd.aTypedArrayConstructor;(0,gd.exportTypedArrayMethod)("filter",(function(t){for(var e=md(wd(this),t,arguments.length>1?arguments[1]:void 0),r=bd(this,this.constructor),n=0,o=e.length,i=new(Sd(r))(o);o>n;)i[n]=e[n++];return i}));var Ad=_p,Ed=tr.find,Td=Ad.aTypedArray;(0,Ad.exportTypedArrayMethod)("find",(function(t){return Ed(Td(this),t,arguments.length>1?arguments[1]:void 0)}));var _d=_p,Cd=tr.findIndex,Od=_d.aTypedArray;(0,_d.exportTypedArrayMethod)("findIndex",(function(t){return Cd(Od(this),t,arguments.length>1?arguments[1]:void 0)}));var Md=_p,kd=tr.forEach,Id=Md.aTypedArray;(0,Md.exportTypedArrayMethod)("forEach",(function(t){kd(Id(this),t,arguments.length>1?arguments[1]:void 0)}));var Rd=_p,Ld=jn.includes,jd=Rd.aTypedArray;(0,Rd.exportTypedArrayMethod)("includes",(function(t){return Ld(jd(this),t,arguments.length>1?arguments[1]:void 0)}));var Pd=_p,$d=jn.indexOf,Nd=Pd.aTypedArray;(0,Pd.exportTypedArrayMethod)("indexOf",(function(t){return $d(Nd(this),t,arguments.length>1?arguments[1]:void 0)}));var Fd=z,Bd=_p,Ud=fu,Dd=fe("iterator"),zd=Fd.Uint8Array,Vd=Ud.values,Gd=Ud.keys,Yd=Ud.entries,Hd=Bd.aTypedArray,Wd=Bd.exportTypedArrayMethod,qd=zd&&zd.prototype[Dd],Xd=!!qd&&("values"==qd.name||null==qd.name),Kd=function(){return Vd.call(Hd(this))};Wd("entries",(function(){return Yd.call(Hd(this))})),Wd("keys",(function(){return Gd.call(Hd(this))})),Wd("values",Kd,!Xd),Wd(Dd,Kd,!Xd);var Jd=_p,Zd=Jd.aTypedArray,Qd=Jd.exportTypedArrayMethod,tv=[].join;Qd("join",(function(t){return tv.apply(Zd(this),arguments)}));var ev={exports:{}},rv=an,nv=_e,ov=ke,iv=kt,av=Ct,sv=Math.min,cv=[].lastIndexOf,lv=!!cv&&1/[1].lastIndexOf(1,-0)<0,uv=iv("lastIndexOf"),fv=av("indexOf",{ACCESSORS:!0,1:0}),pv=lv||!uv||!fv;ev.exports=pv?function(t){if(lv)return cv.apply(this,arguments)||0;var e=rv(this),r=ov(e.length),n=r-1;for(arguments.length>1&&(n=sv(n,nv(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}:cv;var hv=_p,dv=ev.exports,vv=hv.aTypedArray;(0,hv.exportTypedArrayMethod)("lastIndexOf",(function(t){return dv.apply(vv(this),arguments)}));var yv=_p,xv=tr.map,gv=Os,mv=yv.aTypedArray,bv=yv.aTypedArrayConstructor;(0,yv.exportTypedArrayMethod)("map",(function(t){return xv(mv(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(bv(gv(t,t.constructor)))(e)}))}));var wv={exports:{}},Sv=ze,Av=Pe,Ev=Ue,Tv=ke,_v=function(t){return function(e,r,n,o){Sv(r);var i=Av(e),a=Ev(i),s=Tv(i.length),c=t?s-1:0,l=t?-1:1;if(n<2)for(;;){if(c in a){o=a[c],c+=l;break}if(c+=l,t?c<0:s<=c)throw TypeError("Reduce of empty array with no initial value")}for(;t?c>=0:s>c;c+=l)c in a&&(o=r(o,a[c],c,i));return o}};wv.exports={left:_v(!1),right:_v(!0)};var Cv=wv.exports,Ov=_p,Mv=Cv.left,kv=Ov.aTypedArray;(0,Ov.exportTypedArrayMethod)("reduce",(function(t){return Mv(kv(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}));var Iv=_p,Rv=Cv.right,Lv=Iv.aTypedArray;(0,Iv.exportTypedArrayMethod)("reduceRight",(function(t){return Rv(Lv(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}));var jv=_p,Pv=jv.aTypedArray,$v=jv.exportTypedArrayMethod,Nv=Math.floor;$v("reverse",(function(){for(var t,e=this,r=Pv(e).length,n=Nv(r/2),o=0;o<n;)t=e[o],e[o++]=e[--r],e[r]=t;return e}));var Fv=_p,Bv=Os,Uv=X,Dv=Fv.aTypedArray,zv=Fv.aTypedArrayConstructor,Vv=Fv.exportTypedArrayMethod,Gv=[].slice;Vv("slice",(function(t,e){for(var r=Gv.call(Dv(this),t,e),n=Bv(this,this.constructor),o=0,i=r.length,a=new(zv(n))(i);i>o;)a[o]=r[o++];return a}),Uv((function(){new Int8Array(1).slice()})));var Yv=_p,Hv=tr.some,Wv=Yv.aTypedArray;(0,Yv.exportTypedArrayMethod)("some",(function(t){return Hv(Wv(this),t,arguments.length>1?arguments[1]:void 0)}));var qv=_p,Xv=qv.aTypedArray,Kv=qv.exportTypedArrayMethod,Jv=[].sort;Kv("sort",(function(t){return Jv.call(Xv(this),t)}));var Zv=_p,Qv=X,ty=z.Int8Array,ey=Zv.aTypedArray,ry=Zv.exportTypedArrayMethod,ny=[].toLocaleString,oy=[].slice,iy=!!ty&&Qv((function(){ny.call(new ty(1))}));ry("toLocaleString",(function(){return ny.apply(iy?oy.call(ey(this)):ey(this),arguments)}),Qv((function(){return[1,2].toLocaleString()!=new ty([1,2]).toLocaleString()}))||!Qv((function(){ty.prototype.toLocaleString.call([1,2])})));var ay=_p.exportTypedArrayMethod,sy=X,cy=z.Uint8Array,ly=cy&&cy.prototype||{},uy=[].toString,fy=[].join;sy((function(){uy.call({})}))&&(uy=function(){return fy.call(this)});var py=ly.toString!=uy;function hy(t){var e=t.layer,r=t.margin,n=t.width,o=t.height,i=t.alignment,a=t.end,s=this.width-(this.scale*(r.left+r.right)|0),c=this.height,l=this.scale*r.vertical|0,u=100*this.video.currentTime;this._.space[e]=this._.space[e]||{left:{width:new Uint16Array(c+1),end:new Uint16Array(c+1)},center:{width:new Uint16Array(c+1),end:new Uint16Array(c+1)},right:{width:new Uint16Array(c+1),end:new Uint16Array(c+1)}};var f=this._.space[e],p=["right","left","center"][i%3],h=0,d=0,v=function(t){return(h=function(t){var e=f.left.width[t],r=f.center.width[t],o=f.right.width[t],i=f.left.end[t],a=f.center.end[t],c=f.right.end[t];return"left"===p&&(i>u&&e||a>u&&r&&2*n+r>s||c>u&&o&&n+o>s)||"center"===p&&(i>u&&e&&2*e+n>s||a>u&&r||c>u&&o&&2*o+n>s)||"right"===p&&(i>u&&e&&e+n>s||a>u&&r&&2*n+r>s||c>u&&o)}(t)?0:h+1)>=o&&(d=t,!0)};if(i<=3)for(var y=c-l-1;y>l&&!v(y);y--);else if(i>=7)for(var x=l+1;x<c-l&&!v(x);x++);else for(var g=c-o>>1;g<c-l&&!v(g);g++);i>3&&(d-=o-1);for(var m=d;m<d+o;m++)f[p].width[m]=n,f[p].end[m]=100*a;return d}function dy(t){var e=t.effect,r=t.move,n=t.alignment,o=t.width,i=t.height,a=t.margin,s=t.slices,c=0,l=0;if(e)"banner"===e.name&&(n<=3&&(l=this.height-i-a.vertical),n>=4&&n<=6&&(l=(this.height-i)/2),n>=7&&(l=a.vertical),c=e.lefttoright?-o:this.width);else if(t.pos||r){var u=t.pos||{x:0,y:0};n%3==1&&(c=this.scale*u.x),n%3==2&&(c=this.scale*u.x-o/2),n%3==0&&(c=this.scale*u.x-o),n<=3&&(l=this.scale*u.y-i),n>=4&&n<=6&&(l=this.scale*u.y-i/2),n>=7&&(l=this.scale*u.y)}else{n%3==1&&(c=0),n%3==2&&(c=(this.width-o)/2),n%3==0&&(c=this.width-o-this.scale*a.right),s.some((function(t){return t.fragments.some((function(t){return t.animationName}))}))?(n<=3&&(l=this.height-i-a.vertical),n>=4&&n<=6&&(l=(this.height-i)/2),n>=7&&(l=a.vertical)):l=hy.call(this,t)}return{x:c,y:l}}function vy(t){var e=t.layer,r=t.alignment,n=t.effect,o=t.pos,i=t.margin,a=t.width,s=t.height,c=t.x,l=t.y,u="";if(e&&(u+="z-index:".concat(e,";")),u+="text-align:".concat(["right","left","center"][r%3],";"),!n){var f=this.width-this.scale*(i.left+i.right);u+="max-width:".concat(f,"px;"),o||(r%3==1&&(u+="margin-left:".concat(this.scale*i.left,"px;")),r%3==0&&(u+="margin-right:".concat(this.scale*i.right,"px;")),a>this.width-this.scale*(i.left+i.right)&&(u+="margin-left:".concat(this.scale*i.left,"px;"),u+="margin-right:".concat(this.scale*i.right,"px;")))}return u+="width:".concat(a,"px;height:").concat(s,"px;left:").concat(c,"px;top:").concat(l,"px;")}function yy(t){var e=Hc.call(this,t);h(t,{$div:e}),this._.$stage.appendChild(e);var r=e.getBoundingClientRect(),n=r.width,o=r.height;return h(t,{width:n,height:o}),h(t,dy.call(this,t)),e.style.cssText=vy.call(this,t),function(t){var e=t.alignment,r=t.width,n=t.height,o=t.x,i=t.y,a=t.$div,s=t.org;s||(s={x:0,y:0},e%3==1&&(s.x=o),e%3==2&&(s.x=o+r/2),e%3==0&&(s.x=o+r),e<=3&&(s.y=i+n),e>=4&&e<=6&&(s.y=i+n/2),e>=7&&(s.y=i));for(var c=a.childNodes.length-1;c>=0;c--){var l=a.childNodes[c];if("true"===l.dataset.hasRotate){var u=s.x-o-l.offsetLeft,f=s.y-i-l.offsetTop;l.style.cssText+="transform-origin:".concat(u,"px ").concat(f,"px;")}}}(t),As.call(this,t),t}function xy(){for(var t=this.video.currentTime,e=this._.stagings.length-1;e>=0;e--){var r=this._.stagings[e],n=r.end;if(r.effect&&/scroll/.test(r.effect.name)){var o=r.effect,i=o.y1,a=o.y2,s=o.delay,c=((a||this._.resampledRes.height)-i)/(1e3/s);n=Math.min(n,r.start+c)}n<t&&(this._.$stage.removeChild(r.$div),r.$clipPath&&this._.$defs.removeChild(r.$clipPath),this._.stagings.splice(e,1))}for(var l=this.dialogues;this._.index<l.length&&t>=l[this._.index].start;){if(t<l[this._.index].end){var u=yy.call(this,l[this._.index]);this.video.paused||ws(u.$div,"play"),this._.stagings.push(u)}++this._.index}}function gy(){var t=this;return cancelAnimationFrame(this._.requestId),this._.requestId=requestAnimationFrame((function e(){xy.call(t),t._.requestId=requestAnimationFrame(e)})),this._.stagings.forEach((function(t){ws(t.$div,"play")})),this}function my(){return cancelAnimationFrame(this._.requestId),this._.requestId=0,this._.stagings.forEach((function(t){ws(t.$div,"pause")})),this}function by(){for(;this._.$stage.lastChild;)this._.$stage.removeChild(this._.$stage.lastChild);for(;this._.$defs.lastChild;)this._.$defs.removeChild(this._.$defs.lastChild);this._.stagings=[],this._.space=[]}function wy(){var t=this.video.currentTime,e=this.dialogues;by.call(this),this._.index=function(){for(var r=0,n=e.length-1;r+1<n&&t>e[n+r>>1].end;)r=n+r>>1;if(!r)return 0;for(var o=r;o<n;o++)if(e[o].end>t&&t>=e[o].start||o&&e[o-1].end<t&&t<e[o].start)return o;return n}(),xy.call(this)}function Sy(){var t=this._.listener;t.play=gy.bind(this),t.pause=my.bind(this),t.seeking=wy.bind(this),this.video.addEventListener("play",t.play),this.video.addEventListener("pause",t.pause),this.video.addEventListener("seeking",t.seeking)}function Ay(){var t=this._.listener;this.video.removeEventListener("play",t.play),this.video.removeEventListener("pause",t.pause),this.video.removeEventListener("seeking",t.seeking),t.play=null,t.pause=null,t.seeking=null}function Ey(t){var e=this,r=t.effect,n=t.duration,o=r.name,i=r.delay,a=r.lefttoright,s=r.y1,c=r.y2||this._.resampledRes.height;if("banner"===o){var l=this.scale*(n/i)*(a?1:-1);return[0,"".concat(l,"px")].map((function(t,e){return{offset:e,transform:"translateX(".concat(t,")")}}))}if(/^scroll/.test(o)){var u=/up/.test(o)?-1:1,f=(c-s)/(n/i);return[s,c].map((function(t){return e.scale*t*u})).map((function(t,e){return{offset:Math.min(e,f),transform:"translateY".concat(t)}}))}return[]}function Ty(t){var r=this,n=t.move,o=t.duration,i=t.dialogue,a=n.x1,s=n.y1,c=n.x2,l=n.y2,u=[n.t1,n.t2||o],f=i.pos||{x:0,y:0};return[[a,s],[c,l]].map((function(t){var n=e(t,2),o=n[0],i=n[1];return[r.scale*(o-f.x),r.scale*(i-f.y)]})).map((function(t,r){var n=e(t,2),i=n[0],a=n[1];return{offset:Math.min(u[r]/o,1),transform:"translate(".concat(i,"px, ").concat(a,"px)")}}))}function _y(t){var e=t.fromTag,r=t.tag,n=t.fragment;if(!ms.some((function(t){return void 0!==r[t]&&r[t]!==e[t]})))return null;var o=h({},e,r);return n.drawing&&(h(o,{p:0,fscx:(r.fscx||e.fscx)/e.fscx*100,fscy:(r.fscy||e.fscy)/e.fscy*100}),h(e,{fscx:100,fscy:100})),["transform",Yc(e),Yc(o)]}function Cy(t){var n=this,o=t.start,i=t.end,a=t.effect,s=t.move,c=t.fade,l=t.slices,u=1e3*(i-o),f=[].concat(r(a&&!s?Ey.call(this,{effect:a,duration:u}):[]),r(s?Ty.call(this,{move:s,duration:u,dialogue:t}):[]),r(c?function(t){var r=t.fade,n=t.duration;if("fad"===r.type){var o=r.t1,i=r.t2,a=[[0,0]];return o<n?(a.push([o/n,1]),o+i<n&&a.push([(n-i)/n,1]),a.push([1,0])):a.push([1,n/o]),a.map((function(t){var r=e(t,2);return{offset:r[0],opacity:r[1]}}))}var s=r.a1,c=r.a2,l=r.a3,u=r.t1,f=r.t2,p=r.t3,h=r.t4,d=[s,c,l].map((function(t){return 1-t/255}));return[0,u,f,p,h,n].map((function(t){return t/n})).map((function(t,e){return{offset:t,opacity:d[e>>1]}})).filter((function(t){return t.offset<=1}))}({fade:c,duration:u}):[]));f.length&&h(t,{keyframes:f}),l.forEach((function(t){var r=n.styles[t.style].tag;t.fragments.forEach((function(t){if(t.tag.t&&t.tag.t.length){var o,i=h({},r,t.tag),a=(o=t.tag.t,o.reduceRight((function(t,e){var r=!1;return t.map((function(t){return r=e.t1===t.t1&&e.t2===t.t2&&e.accel===t.accel,h({},t,r?{tag:h({},t.tag,e.tag)}:{})})).concat(r?[]:e)}),[])).map((function(r){var o=r.t1,a=r.t2,s=r.tag,c=void 0!==s.a1&&s.a1===s.a2&&s.a2===s.a3&&s.a3===s.a4;return[s.fs&&["font-size","".concat(n.scale*Gc(i.fn,i.fs),"px"),"".concat(n.scale*Gc(s.fn,i.fs),"px")],s.fsp&&["letter-spacing","".concat(n.scale*i.fsp,"px"),"".concat(n.scale*s.fsp,"px")],(s.c1||s.a1&&!c)&&["color",fs(i.a1+i.c1),fs((s.a1||i.a1)+(s.c1||i.c1))],c&&["opacity",1-parseInt(i.a1,16)/255,1-parseInt(s.a1,16)/255],_y({fromTag:i,tag:s,fragment:t})].filter((function(t){return t})).map((function(t){var r=e(t,3),n=r[0],i=r[1],s=r[2],c=[i,i,s,s];return[0,o,a,u].map((function(t){return t/u})).map((function(t,e){return{offset:t,[n]:c[e]}}))}))})).flat(2);a.length&&h(t,{keyframes:a})}}))}))}function Oy(){var t=this,e=this.video.clientWidth,r=this.video.clientHeight,n=this.video.videoWidth||e,o=this.video.videoHeight||r,i=this._.scriptRes.width,a=this._.scriptRes.height,s=i,c=a,l=Math.min(e/n,r/o);"video_width"===this.resampling&&(c=i/n*o),"video_height"===this.resampling&&(s=a/o*n),this.scale=Math.min(e/s,r/c),"script_width"===this.resampling&&(this.scale=l*(n/s)),"script_height"===this.resampling&&(this.scale=l*(o/c)),this.width=this.scale*s,this.height=this.scale*c,this._.resampledRes={width:s,height:c},this.container.style.cssText="width:".concat(e,"px;height:").concat(r,"px;");var u="width:".concat(this.width,"px;")+"height:".concat(this.height,"px;")+"top:".concat((r-this.height)/2,"px;")+"left:".concat((e-this.width)/2,"px;");return this._.$stage.style.cssText=u,this._.$svg.style.cssText=u,this._.$svg.setAttributeNS(null,"viewBox","0 0 ".concat(i," ").concat(a)),this.dialogues.forEach((function(e){Cy.call(t,e)})),wy.call(this),this}ay("toString",uy,py);var My=".ASS-container,.ASS-stage{position:relative;overflow:hidden}.ASS-container video{position:absolute;top:0;left:0}.ASS-stage{pointer-events:none;position:absolute}.ASS-dialogue{font-size:0;position:absolute;z-index:0}.ASS-dialogue [data-stroke]{position:relative}.ASS-dialogue [data-stroke]::after,.ASS-dialogue [data-stroke]::before{content:attr(data-stroke);position:absolute;top:0;left:0;z-index:-1;filter:var(--ass-blur)}.ASS-dialogue [data-stroke]::before{color:var(--ass-shadow-color);transform:translate(var(--ass-shadow-offset));-webkit-text-stroke:var(--ass-border-width) var(--ass-shadow-color);text-shadow:var(--ass-shadow-delta);opacity:var(--ass-shadow-opacity)}.ASS-dialogue [data-stroke]::after{-webkit-text-stroke:var(--ass-border-width) var(--ass-border-color);text-shadow:var(--ass-border-delta);opacity:var(--ass-border-opacity)}.ASS-fix-font-size{position:absolute;visibility:hidden}.ASS-fix-objectBoundingBox{width:100%;height:100%;position:absolute;top:0;left:0}";function ky(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.scale=1,this._={index:0,stagings:[],space:[],listener:{},$svg:hs("svg"),$defs:hs("defs"),$stage:document.createElement("div")},this._.$svg.appendChild(this._.$defs),this._.$stage.className="ASS-stage",this._.resampling=r.resampling||"video_height",this.container=r.container||document.createElement("div"),this.container.classList.add("ASS-container"),this.container.appendChild(zc),this.container.appendChild(this._.$svg),this._.hasInitContainer=!!r.container,this.video=e,Sy.call(this),!this._.hasInitContainer){var n=!e.paused;e.parentNode.insertBefore(this.container,e),this.container.appendChild(e),n&&e.paused&&e.play()}this.container.appendChild(this._.$stage);var o=M(t),i=o.info,a=o.width,s=o.height,c=o.styles,l=o.dialogues;this.info=i,this._.scriptRes={width:a||e.videoWidth,height:s||e.videoHeight},this.styles=c,this.dialogues=l;var u=gs(this.container),f=u.querySelector("#ASS-global-style");return f||((f=document.createElement("style")).type="text/css",f.id="ASS-global-style",f.appendChild(document.createTextNode(My)),u.appendChild(f)),Oy.call(this),this.video.paused||(wy.call(this),gy.call(this)),this}function Iy(){return this._.$stage.style.visibility="visible",this}function Ry(){return this._.$stage.style.visibility="hidden",this}function Ly(){if(my.call(this),by.call(this),Ay.call(this,this._.listener),!this._.hasInitContainer){var t=!this.video.paused;this.container.parentNode.insertBefore(this.video,this.container),this.container.parentNode.removeChild(this.container),t&&this.video.paused&&this.video.play()}for(var e in this)Object.prototype.hasOwnProperty.call(this,e)&&(this[e]=null);return this}var jy=/^(video|script)_(width|height)$/;function Py(){return jy.test(this._.resampling)?this._.resampling:"video_height"}function $y(t){return t===this._.resampling?t:(jy.test(t)&&(this._.resampling=t,this.resize()),this._.resampling)}return function(){function e(t,r,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),"string"!=typeof t?this:ky.call(this,t,r,n)}var r,n,o;return r=e,(n=[{key:"resize",value:function(){return Oy.call(this)}},{key:"show",value:function(){return Iy.call(this)}},{key:"hide",value:function(){return Ry.call(this)}},{key:"destroy",value:function(){return Ly.call(this)}},{key:"resampling",get:function(){return Py.call(this)},set:function(t){return $y.call(this,t)}}])&&t(r.prototype,n),o&&t(r,o),e}()}));
